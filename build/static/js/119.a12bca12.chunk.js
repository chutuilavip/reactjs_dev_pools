"use strict";(self.webpackChunkpools_fe=self.webpackChunkpools_fe||[]).push([[119],{62119:function(e,n,i){i.r(n),i.d(n,{default:function(){return de}});var r,t,a=i(4942),o=i(1413),l=i(44925),s=i(29439),c=i(72791),d=i(59434),u=i(57689),p=i(85798),m=i(16254),v=i(44695),f=i(61134),g=i(37762),h=i(74165),x=i(15861),b=i(62797),y=i(35783),_=b.Ry({title:b.Z_().required(),appid:b.Z_().required(),summary:b.Z_().required("Summary is required").max(80,"Summary must be less than 80 characters"),otherlanguages:b.Z_().required("Other languages is required"),email:b.Z_().required("Email is required").email("Invalid email address"),phone_number:b.Z_().required("Phone number is required").matches(/^!*([0-9]!*){10,}$/gi,"Phone number must be at least 10 digits"),full_description:b.Z_().required("Full description is required").max(4e3,"Description must be less than 4000 characters"),description:b.Z_().max(1e3,"Description must be less than 1000 characters"),country_of_service:b.Z_().required("Country of service is required"),facebook:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.facebook|m\.facebook|facebook|fb)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid Facebook Link"),instagram:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.instagram|m\.instagram|instagram)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid instagram Link"),skype:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.skype|m\.skype|skype|sk)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid Skype Link"),tiktok:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.tiktok|m\.tiktok|tiktok|tk)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid TikTok Link"),twitter:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.twitter|m\.twitter|twitter|tw)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid Twitter Link"),category:b.Z_().required("Category is required"),type:b.Z_().required("Type is required"),free:b.Z_().required("Cost of app required"),price:b.Z_().max(8,"Price must be less than 8 digits number"),cover:b.nK().test("fileSize","The size of file must be less than 2MB",(function(e){var n;return!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||(!e.fileList||e.fileList[0].size/1024/1024<2)})).test("widthHeight","File must be 255 of width and 390 of height",function(){var e=(0,x.Z)((0,h.Z)().mark((function e(n){var i,r,t,a,o,l;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.file&&0!==(null===n||void 0===n||null===(i=n.fileList)||void 0===i?void 0:i.length)){e.next=2;break}return e.abrupt("return",!0);case 2:return r=n.file,t=URL.createObjectURL(null===r||void 0===r?void 0:r.originFileObj),e.prev=4,e.next=7,(0,y.Z)(t);case 7:return a=e.sent,o=a.width,l=a.height,e.abrupt("return",255===o&&390===l);case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}()).test("image-type","The type must be image/jpeg or image/png image/jpg",(function(e){var n;if(!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length))return!0;if(e.fileList){var i,r=(0,g.Z)(e.fileList);try{for(r.s();!(i=r.n()).done;){var t=i.value;return"image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type}}catch(a){r.e(a)}finally{r.f()}}return!0})),apkfile:b.nK().test("fileSize","The size of file must be less than 200MB",(function(e){var n;return!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||(!e.fileList||e.fileList[0].size/1024/1024<200)})),images:b.nK().test("image-type","The type must be image/jpeg or image/png",(function(e){var n;if(console.log("validateeeeeeeeeeeeeeeeeeeeeeeeeeeee",e),!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length))return!0;if(e.fileList){var i,r=(0,g.Z)(e.fileList);try{for(r.s();!(i=r.n()).done;){var t=i.value;return"image/jpeg"===t.type||"image/png"===t.type}}catch(a){r.e(a)}finally{r.f()}}return!0})).test("fileLength","You must upload max 8 images",(function(e){var n,i;return!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||!((null===e||void 0===e||null===(i=e.fileList)||void 0===i?void 0:i.length)>8)})),video:b.nK().test("mp4 type","The type must be MP4",(function(e){var n;return!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||"video/mp4"===e.file.type}))}).required(),j=[{locale_code:"nft",title:"NFT"},{locale_code:"metaverse",title:"Metaverse"},{locale_code:"play-to-earn",title:"Play To Earn"}],k=[{locale_code:"1",id:1,title:"Pay"},{locale_code:"0",id:2,title:"Free"}],Z=[[{name:"appid",label:"App ID",placeholder:"Enter App ID",disabled:!0},{name:"title",label:"Title",placeholder:"Enter App Title"}],[{name:"summary",label:"Summary",placeholder:"Enter Summary"},{name:"full_description",label:"Description",placeholder:"Enter Description"}],[{name:"recent_change",label:"Recent Change",placeholder:"Enter Recent Change"},{name:"app_support",label:"App Support",placeholder:"Enter App Support"}],[{name:"privacy_policy",label:"Privacy Policy",placeholder:"Enter Privacy Policy"},{name:"term_of_policy",label:"Term Of Policy",placeholder:"Enter Term Of Policy"}],[{name:"facebook",label:"Link FaceBook",placeholder:"Enter Link FaceBook"},{name:"instagram",label:"Link Instagram",placeholder:"Enter Link Instagram"},{name:"skype",label:"Link Skype",placeholder:"Enter Link Skype"}],[{name:"tiktok",label:"Link TikTok",placeholder:"Enter Link TikTok"},{name:"twitter",label:"Link Twitter",placeholder:"Enter Link Twitter"}],[{name:"phone_number",label:"Phone Number",placeholder:"Enter Phone Number"},{name:"email",label:"Email",placeholder:"Enter Email"}]],w=i(27387),C=i(87309),N=i(9085),L=i(25886),P=i(80184),E=function(e){var n=e.fieldProps,i=e.control,r=e.errors,t=e.customOnchange,a=e.mod;return(0,P.jsx)(f.Qr,{control:i,name:n.name,render:function(e){var i,l=e.field;return(0,P.jsxs)("div",{className:"field-item",children:[(0,P.jsxs)("div",{className:"field",children:[(0,P.jsxs)("label",{className:"fieldLabel",children:[n.label," :"]}),"area"===a?(0,P.jsx)(L.Z.TextArea,(0,o.Z)((0,o.Z)({rows:10,disabled:(null===n||void 0===n?void 0:n.disabled)||!1},l),{},{onChange:function(e){t&&t(e),l.onChange(e)},placeholder:n.placeholder,type:n.type||"text"})):(0,P.jsx)(L.Z,(0,o.Z)((0,o.Z)({disabled:(null===n||void 0===n?void 0:n.disabled)||!1},l),{},{onChange:function(e){t&&t(e),l.onChange(e)},placeholder:n.placeholder,type:n.type||"text"}))]}),(0,P.jsx)("p",{className:"error_message",children:null===(i=r[n.name])||void 0===i?void 0:i.message})]})}})},T=function(e){var n=e.inputList,i=e.control,r=e.errors;return(0,P.jsx)(c.Fragment,{children:n.map((function(e,n){return(0,P.jsx)("div",{className:"row",children:e.map((function(e,n){return(0,P.jsx)(E,{fieldProps:e,control:i,errors:r},"Input-".concat(n))}))},n)}))})},O=i(93433),V=i(83734),q=function(e){var n=e.control,i=e.fieldProps,r=e.errors,t=e.customOnChange,a=e.mode,l=e.customRenderOptions,s=function(e){var n,i=null===(n=e.data)||void 0===n?void 0:n.map((function(n){return"otherlanguages"===e.name||"locale"===e.name?{value:n.code,label:n.language||n.title}:{value:n.locale_code||n.id,label:n.language||n.title}}));return[{value:"",label:"Select App ".concat(e.label),disabled:!0}].concat((0,O.Z)(i))};return(0,P.jsx)(f.Qr,{control:n,name:i.name,render:function(e){var n,c=e.field;return(0,P.jsxs)("div",{className:"field-item",children:[(0,P.jsxs)("div",{className:"field",children:[(0,P.jsxs)("label",{className:"fieldLabel",children:[i.label," :"]}),(0,P.jsx)(V.Z,(0,o.Z)((0,o.Z)({mode:a,className:"input"},c),{},{onChange:function(e){c.onChange(e),t&&t(e)},defaultValue:"app_permission_id"!==i.name&&"information_collected_id"!==i.name?"":[],options:l?l(i):s(i)}))]}),(0,P.jsx)("p",{className:"error_message",children:null===(n=r[i.name])||void 0===n?void 0:n.message})]})}})},F=function(e){var n=e.control,i=e.errors,r=e.fieldsData,t=function(e){var n,i=null===(n=e.data)||void 0===n?void 0:n.map((function(e){return{value:"".concat(e.id),label:e.title}}));return(0,O.Z)(i)};return(0,P.jsx)("div",{children:null===r||void 0===r?void 0:r.map((function(e,r){return(0,P.jsx)(q,{fieldProps:e,control:n,errors:i,customRenderOptions:t,mode:"multiple"},"multiple-select-".concat(r))}))})},I=function(e){var n=e.selectList,i=e.control,r=e.errors;return(0,P.jsx)(c.Fragment,{children:n.map((function(e,n){return(0,P.jsx)("div",{className:"row",children:e.map((function(e,n){return(0,P.jsx)(q,{fieldProps:e,control:i,errors:r},"Select-".concat(n))}))},n)}))})},S=i(36755),A=i(34457),R=["* The size of file must be less than 2MB","* The type must be image/jpeg or image/png or image/jpg"],z=["* The size of file must be less than 2MB","* The type must be image/jpeg or image/png or image/jpg","* Upload max 10 images"],D=["* The size of file must be less than 200MB","* The type must be .apk"],M=i(34571),U=function(e){var n,i=e.defaultValues,r=(0,d.I0)(),t=c.useState(!1),a=(0,s.Z)(t,2),o=(a[0],a[1]),l=function(e){console.log(e)};return(0,P.jsx)(P.Fragment,{children:null===(n=i.images_init)||void 0===n?void 0:n.map((function(e,n){return(0,P.jsxs)("div",{className:"image_action",children:[(0,P.jsx)(S.Z,{className:"image",style:{borderRadius:"1rem"},preview:!1,src:"".concat(A.dz).concat(e),alt:"cover"}),(0,P.jsx)("div",{className:"button",children:(0,P.jsx)(M.Z,{title:"Are you sure to delete this image?",onConfirm:function(){return n=e,t=null===i||void 0===i?void 0:i.appid,void r((0,m.Yw)({name_image:n,appid:t,reload:function(){}})).unwrap().then((function(e){if(200===e.status){var r=i.images_init.findIndex((function(e){return e===n}));-1!==r&&(i.images_init.splice(r,1),o((function(e){return!e})))}}));var n,t},onCancel:l,okText:"Yes",cancelText:"No",children:(0,P.jsx)(C.Z,{type:"primary",danger:!0,children:"Delete"})})})]},"image_".concat(n))}))})},B=function(e){var n=e.control,i=e.errors,r=e.onChange;return(0,P.jsxs)("div",{style:{width:"calc(90% + 0rem)",marginLeft:"auto",border:"1px solid red",padding:"2rem",borderRadius:"5px"},children:[(0,P.jsx)("h1",{style:{background:"black",color:"white",borderRadius:"5px",padding:"0 2rem"},children:"New App version detail"}),[{name:"app_version",label:"App Version",placeholder:"Enter App Version"},{name:"description",label:"Description",placeholder:"Enter description",mode:"area"}].map((function(e,t){return(0,P.jsx)(E,{fieldProps:e,control:n,customOnchange:r,errors:i,mod:e.mode},"update-app-version-".concat(t))}))]})},K=i(91541),$=i(44379),Q=i(66776),Y=function(e){var n=e.control,i=e.hints,r=e.errMessage,t=e.name,a=e.label,l=e.maxCount,s={listType:"picture",accept:"image/png, image/jpeg",multiple:e.multiple,onChange:function(e){},onDrop:function(e){}};return(0,P.jsx)("div",{children:(0,P.jsx)(f.Qr,{control:n,name:t,render:function(e){var n=e.field;return(0,P.jsxs)(K.Z.Item,{label:a,children:[(0,P.jsxs)($.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},s),n),{},{maxCount:l,listType:"picture",accept:"image/png, image/jpeg",children:[(0,P.jsx)("p",{className:"ant-upload-drag-icon",children:(0,P.jsx)(Q.Z,{})}),(0,P.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,P.jsx)("p",{className:"ant-upload-hint",children:"Upload your new avatar"})]})),(0,P.jsx)("div",{className:"note",children:null===i||void 0===i?void 0:i.map((function(e,n){return(0,P.jsx)("p",{className:"hint",children:e},"hint-".concat(n))}))}),(0,P.jsx)("p",{className:"error_message",children:r})]})}})})},J=i(30168),X=i(54088),H=X.ZP.div(r||(r=(0,J.Z)(["\n  &&& {\n    .ant-form-item-label {\n      width: 10%;\n      text-align: left;\n    }\n  }\n  border: 1px dashed black;\n  margin: 2rem 0;\n  padding: 1rem;\n  border-radius: 10px;\n  .upload_resource__item {\n    margin-bottom: 2rem;\n  }\n  .initial_content {\n    width: 90%;\n    margin-left: auto;\n    .video {\n      &__item {\n        margin-bottom: 2rem;\n        border: 1px dashed black;\n        border-radius: 5px;\n        padding: 1rem;\n        p {\n          text-transform: uppercase;\n          margin-bottom: 1rem;\n          background: #dddddd;\n          padding: 1rem;\n          border-radius: 7px;\n          width: fit-content;\n        }\n      }\n      display: flex;\n      flex-direction: column;\n    }\n    video {\n      width: 45rem;\n      aspect-ratio: 16/9;\n      border-radius: 10px;\n    }\n    .cover {\n      width: 255px;\n      height: 390px;\n    }\n    .image_action {\n      justify-content: space-between;\n      height: 25rem;\n      display: flex;\n      padding: 2rem;\n      border: 1px dashed;\n      margin-bottom: 5rem;\n      border-radius: 15px;\n      box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n      button {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        border-radius: 7px;\n      }\n    }\n  }\n  .image {\n    height: 100%;\n    aspect-ratio: 16/9;\n    margin-top: 0;\n  }\n"]))),G=function(e){var n=e.errMessage,i=e.control,r=e.hints,t=e.name,a=e.label,l=e.accept,s=e.onChange;return(0,P.jsx)(f.Qr,{control:i,name:t,render:function(e){var i=e.field;return(0,P.jsxs)(K.Z.Item,{label:a,children:[(0,P.jsxs)($.Z,(0,o.Z)((0,o.Z)({},i),{},{multiple:!1,onChange:function(e){i.onChange(e),s&&s(e),e.file.status="done"},accept:l,maxCount:1,valuePropName:"fileList",children:[(0,P.jsx)("p",{className:"ant-upload-drag-icon",children:(0,P.jsx)(Q.Z,{})}),(0,P.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,P.jsx)("p",{className:"ant-upload-hint",children:"Upload your new apk"})]})),(0,P.jsx)("div",{className:"note",children:null===r||void 0===r?void 0:r.map((function(e,n){return(0,P.jsx)("p",{className:"hint",children:e},"hint-".concat(n))}))}),(0,P.jsx)("p",{className:"error_message",children:n})]})}})},W=function(e){var n,i=e.control,r=e.errors,t=e.onChange,a=e.apkfile_init;return(0,P.jsxs)("div",{className:"upload_resource__item upload_apk",children:[" ",(0,P.jsx)(G,{control:i,hints:D,errMessage:null===r||void 0===r||null===(n=r.apkfile)||void 0===n?void 0:n.message,onChange:t,name:"apkfile",label:"Upload APK",maxCount:1,accept:".apk"}),(0,P.jsx)("div",{className:"initial_content",children:(0,P.jsx)("p",{style:{border:"1px dashed black",padding:"1rem",marginTop:"2rem",cursor:"not-allowed"},children:(0,A.UO)(a)})})]})},ee=function(e){var n,i=e.control,r=e.errors,t=e.onChange,a=e.previewVideo,o=e.video_init;return console.log(o),(0,P.jsxs)("div",{className:"upload_resource__item upload_video",children:[(0,P.jsx)(G,{control:i,hints:D,errMessage:null===r||void 0===r||null===(n=r.video)||void 0===n?void 0:n.message,name:"video",label:"Upload Video",maxCount:1,accept:".mp4",onChange:t}),(0,P.jsx)("div",{className:"initial_content",children:(0,P.jsxs)("div",{className:"video",children:[a&&(0,P.jsxs)("div",{className:"new_video video__item",children:[(0,P.jsx)("p",{children:"New Video"}),(0,P.jsx)("video",{controls:!0,src:"".concat(a)})]}),o&&(0,P.jsxs)("div",{className:"current_video video__item",children:[(0,P.jsx)("p",{children:"Current video"}),(0,P.jsx)("video",{controls:!0,src:"".concat(A.dz).concat(o)})]})]})})]})},ne=function(e){var n,i,r=e.control,t=e.errors,a=e.defaultValues,o=e.setError,l=e.setValue,u=((0,d.I0)(),c.useState(!1)),p=(0,s.Z)(u,2),m=(p[0],p[1],c.useState(null)),v=(0,s.Z)(m,2),f=v[0],g=v[1],b=c.useState(!1),y=(0,s.Z)(b,2),_=y[0],j=y[1],k=function(){var e=(0,x.Z)((0,h.Z)().mark((function e(n){var i;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.fileList.length){e.next=3;break}return g(null),e.abrupt("return");case 3:return e.next=5,(0,A.y3)(n.fileList[0].originFileObj);case 5:i=e.sent,g(i);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,P.jsxs)(H,{children:[(0,P.jsxs)("div",{className:"upload_resource__item upload-cover",children:[(0,P.jsx)(Y,{control:r,hints:R,errMessage:null===t||void 0===t||null===(n=t.cover)||void 0===n?void 0:n.message,name:"cover",label:"Upload Cover",maxCount:1}),(0,P.jsx)("div",{className:"initial_content",children:(0,P.jsx)(S.Z,{className:"cover",style:{marginTop:"1rem",borderRadius:"1rem"},preview:!1,src:"".concat(A.dz,"/").concat(null===a||void 0===a?void 0:a.cover_init),alt:"cover"})})]}),(0,P.jsxs)("div",{className:"upload_resource__item upload_images",children:[(0,P.jsx)(Y,{control:r,hints:z,errMessage:null===t||void 0===t||null===(i=t.images)||void 0===i?void 0:i.message,name:"images",label:"Upload Images",multiple:!0}),(0,P.jsx)("div",{className:"initial_content",children:(0,P.jsx)(U,{defaultValues:a})})]}),(0,P.jsx)(W,{control:r,errors:t,onChange:function(e){1===e.fileList.length?(j(!0),o("app_version",{type:"required",message:"App version is required when you update new app apk"})):(j(!1),o("app_version")),l("apkfile",e.fileList[0]||[])},apkfile_init:null===a||void 0===a?void 0:a.apkfile_init}),_&&(0,P.jsx)(B,{control:r,errors:t,onChange:function(e){""!==e.target.value?o("app_version"):o("app_version",{type:"required",message:"App version is required when you update new app apk"})}}),(0,P.jsx)(ee,{control:r,errors:t,onChange:k,video_init:null===a||void 0===a?void 0:a.video_init,previewVideo:f})]})},ie=c.memo(ne),re=X.ZP.div(t||(t=(0,J.Z)(["\n  &&& {\n    .ant-select:not(.ant-select-customize-input) .ant-select-selector,\n    .ant-input {\n      height: 5rem;\n      display: flex;\n      align-items: center;\n      border-radius: 5px;\n      color: black;\n      box-shadow: rgb(0 0 0 / 12%) 0px 1px 3px, rgb(0 0 0 / 24%) 0px 1px 2px;\n      outline: none;\n      border: none;\n    }\n    .ant-select-multiple .ant-select-selection-item {\n      background-color: transparent;\n      border: none;\n      clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n      height: 3rem;\n      display: flex;\n      align-items: center;\n      padding: 0 2rem;\n      background: 9ADCFF;\n      color: black;\n      background: white;\n    }\n    .ant-image {\n    }\n  }\n  padding: 5rem;\n  .container {\n    background: white;\n    padding: 2rem 5rem;\n    border-radius: 25px;\n    box-shadow: rgb(0 0 0 / 19%) 0px 10px 20px, rgb(0 0 0 / 23%) 0px 6px 6px;\n  }\n\n  .error_message {\n    padding: 0 1rem;\n    color: red;\n  }\n  .row {\n    display: flex;\n    justify-content: space-between;\n    gap: 5rem;\n  }\n  .free-price {\n    border-radius: 5px;\n    margin-bottom: 2rem;\n  }\n  .field-item {\n    transition: all 0.5s;\n    width: 100%;\n    display: flex;\n    margin-bottom: 2rem;\n    border-radius: 10px;\n    flex-direction: column;\n    .field {\n      display: flex;\n      flex-direction: column;\n      padding: 0 1rem;\n      margin: 2rem 0;\n      textarea {\n        height: auto !important;\n      }\n      .fieldLabel {\n        background: #ffffff;\n        width: fit-content;\n        padding: 1rem 6rem;\n        border-radius: 7px;\n        border: navajowhite;\n        box-shadow: rgb(0 0 0 / 12%) 0px 1px 3px, rgb(0 0 0 / 24%) 0px 1px 2px;\n        margin-bottom: 1rem;\n      }\n      .input {\n        flex: 1;\n      }\n    }\n  }\n  .btn_submit {\n    width: 100%;\n    margin: auto;\n    margin-bottom: 2rem;\n    position: sticky;\n    bottom: 10px;\n    height: 5rem;\n    border-radius: 9px;\n    border: none;\n    box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n    transition: all 0.5s;\n    &:hover {\n      transform: scale(1.05);\n    }\n  }\n"]))),te=function(e){var n=e.form,i=e.handlesubmitProcess,r=e.SelectField,t=e.FreeField,a=e.PriceField,o=e.LocaleField,l=e.onInitialValue,u=e.PermissionAndInfoFields,p=n.getValues,m=n.setValue,v=n.control,f=(n.setFocus,n.handleSubmit),g=n.formState,h=g.errors,x=(g.isSubmitting,(0,d.v9)((function(e){return e.detailApp.isLoadingEditApp}))),b=(0,c.useState)(n.getValues("free")),y=(0,s.Z)(b,2),_=y[0],j=y[1];return(0,c.useEffect)((function(){if(h)for(var e=0,n=Object.keys(h);e<n.length;e++){var i=n[e];N.Am.error("Invalid value at "+i.split("_").join(" ")+" field")}}),[h]),console.log(h),(0,P.jsx)(re,{children:(0,P.jsxs)("div",{className:"container",children:[(0,P.jsx)("h1",{style:{textAlign:"center"},children:"EDIT APP"})," ",(0,P.jsxs)("form",{onSubmit:f(i),children:[(0,P.jsx)("div",{className:"row",children:(0,P.jsx)(q,{customOnChange:l,fieldProps:o,control:v,errors:h})}),(0,P.jsx)(I,{selectList:r,control:v,errors:h}),(0,P.jsx)(F,{fieldsData:u,control:v,errors:h}),(0,P.jsxs)("div",{className:"row free-price",children:[(0,P.jsx)(q,{customOnChange:function(e){"1"===e&&0===Number(n.getValues("price"))&&(n.setError("price",{type:"required",message:"Price is required and must be greater than 0 when app is pay"}),n.setFocus("price")),j(e)},fieldProps:t,control:v,errors:h}),"1"===_&&(0,P.jsx)(E,{customOnchange:function(e){Number(e.target.value>0)&&n.setError("price")},fieldProps:a,control:v,errors:h})]}),(0,P.jsx)(T,{inputList:Z,control:v,errors:h}),(0,P.jsx)(ie,{setValue:m,control:v,errors:h,defaultValues:p(),setError:n.setError}),(0,P.jsx)(C.Z,{loading:x,htmlType:"submit",type:"primary",className:"btn_submit",children:"Update"})]})]})})},ae=c.memo(te),oe=function(e){var n=e.defaultValues,i=void 0===n?{}:n,r=e.onInitialValue,t=e.categoryAndLanguage,a=e.onSubmitAPI,o=e.permissionAndInfo,l=(0,f.cI)({defaultValues:(0,c.useMemo)((function(){return i}),[i]),resolver:(0,v.X)(_)});(0,c.useEffect)((function(){l.reset(i)}),[i]);var s=[[{name:"category",label:"Category",data:t.category},{name:"type",label:"Type",data:j}],[{name:"country_of_service",label:"Country Of Service",data:t.language},{name:"otherlanguages",label:"Other Languages",data:t.language}]],d={name:"locale",label:"Locale",data:t.language},u={name:"free",label:"Cost",data:k},p=[{name:"app_permission_id",label:"App Permission",data:null===o||void 0===o?void 0:o.app_permission},{name:"information_collected_id",label:"Type Of information is collected",data:null===o||void 0===o?void 0:o.information}];return(0,P.jsx)("div",{children:(0,P.jsx)(ae,{form:l,handlesubmitProcess:function(e){var n;if("1"===l.getValues("free")&&0===Number(l.getValues("price")))return l.setError("price",{type:"required",message:"Price is required and must be greater than 0 when app is pay"}),void l.setFocus("price");if(""===l.getValues("app_version")&&null!==(n=l.getValues("apkfile").fileList)&&void 0!==n&&n[0])return l.setError("app_version",{type:"required",message:"App version is required when you update new file apk"}),void l.setFocus("app_version");0===e.cover.length&&(e.cover=e.cover_init),0===e.apkfile.length&&(e.apkfile=e.apkfile_init),console.log("data",e);var i=(0,w.X)(e);a(i)},SelectField:s,FreeField:u,PriceField:{name:"price",label:"Price",placeholder:"Enter App's price",type:"number"},LocaleField:d,PermissionAndInfoFields:p,onInitialValue:r})})},le=c.memo(oe),se=["id"],ce=function(){var e=(0,u.s0)(),n=(0,d.I0)(),i=(0,u.UO)(),r=(0,c.useState)(!1),t=(0,s.Z)(r,2),v=(t[0],t[1]),f=(0,c.useRef)(),g=(0,c.useRef)(),h=(0,c.useRef)(),x=(0,c.useCallback)((function(e){n((0,m.$J)({slug:null===i||void 0===i?void 0:i.slug,lang:e})).unwrap().then((function(n){var i,r,t,s,c,d=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.app,u=(d.id,(0,l.Z)(d,se)),p=Object.assign((0,o.Z)({},null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.info)||{},(0,o.Z)({},u)),m=(c={locale:e,title:(null===p||void 0===p?void 0:p.title)||"",appid:(null===p||void 0===p?void 0:p.appid)||"",summary:(null===p||void 0===p?void 0:p.summary)||"",country_of_service:(null===p||void 0===p?void 0:p.country_of_service)||"",category:(null===p||void 0===p?void 0:p.category)||"",free:(null===p||void 0===p?void 0:p.free)||"",price:Number(null===p||void 0===p?void 0:p.price).toFixed(0)||""},(0,a.Z)(c,"category",(null===p||void 0===p?void 0:p.category)||""),(0,a.Z)(c,"recent_change",(null===p||void 0===p?void 0:p.recent_change)||""),(0,a.Z)(c,"app_version",(null===p||void 0===p?void 0:p.app_version)||""),(0,a.Z)(c,"privacy_policy",(null===p||void 0===p?void 0:p.privacy_policy)||""),(0,a.Z)(c,"term_of_policy",(null===p||void 0===p?void 0:p.term_of_policy)||""),(0,a.Z)(c,"app_support",(null===p||void 0===p?void 0:p.app_support)||""),(0,a.Z)(c,"app_permission_id",(null===(t=p.app_permission_id)||void 0===t?void 0:t.split(","))||void 0),(0,a.Z)(c,"information_collected_id",(null===(s=p.information_collected_id)||void 0===s?void 0:s.split(","))||void 0),(0,a.Z)(c,"email",p.email||""),(0,a.Z)(c,"phone_number",p.phone_number||""),(0,a.Z)(c,"facebook",p.facebook||""),(0,a.Z)(c,"instagram",p.instagram||""),(0,a.Z)(c,"skype",p.skype||""),(0,a.Z)(c,"tiktok",p.tiktok||""),(0,a.Z)(c,"twitter",p.twitter||""),(0,a.Z)(c,"cover",[]),(0,a.Z)(c,"images",[]),(0,a.Z)(c,"apkfile",[]),(0,a.Z)(c,"video",(null===p||void 0===p?void 0:p.video)||null),(0,a.Z)(c,"cover_init",(null===p||void 0===p?void 0:p.cover)||[]),(0,a.Z)(c,"images_init",JSON.parse(null===p||void 0===p?void 0:p.screenshots)||[]),(0,a.Z)(c,"apkfile_init",(null===p||void 0===p?void 0:p.file_apk)||[]),(0,a.Z)(c,"video_init",(null===p||void 0===p?void 0:p.video)||""),(0,a.Z)(c,"type","1"===(null===p||void 0===p?void 0:p.type)?"nft":"2"===(null===p||void 0===p?void 0:p.type)?"metaverse":"play-to-earn"),(0,a.Z)(c,"full_description",(null===p||void 0===p?void 0:p.description)||""),(0,a.Z)(c,"country_of_service",(null===p||void 0===p?void 0:p.country)||""),(0,a.Z)(c,"otherlanguages",(null===p||void 0===p?void 0:p.other_languages)||""),(0,a.Z)(c,"free",(null===p||void 0===p?void 0:p.is_pay)||""),c);f.current=m,console.log(p),v((function(e){return!e}))}))}),[n,i]),b=function(){e("/created-app")};return(0,c.useEffect)((function(){n((0,m.bT)()).unwrap().then((function(e){var n;g.current=e,x(null===e||void 0===e||null===(n=e.language[0])||void 0===n?void 0:n.code)})),n((0,m.yf)()).unwrap().then((function(e){h.current=e}))}),[]),f.current&&g.current&&h.current?(0,P.jsx)("div",{children:(0,P.jsx)(le,{onSubmitAPI:function(e){n((0,m.rf)({data:e,callBack:b}))},defaultValues:f.current,onInitialValue:x,categoryAndLanguage:g.current,permissionAndInfo:h.current})}):(0,P.jsx)(p.Z,{})},de=c.memo(ce)},34571:function(e,n,i){i.d(n,{Z:function(){return k}});var r=i(87462),t=i(29439),a=i(10187),o=i(81694),l=i.n(o),s=i(75179),c=i(11354),d=i(72791),u=i(71929),p=i(69228),m=i(61113),v=i(87309),f=i(2571),g=i(41783),h=i(93486),x=i(13578),b=i(57924),y=function(e){var n=e.prefixCls,i=e.okButtonProps,t=e.cancelButtonProps,a=e.title,o=e.cancelText,l=e.okText,s=e.okType,c=e.icon,p=e.showCancel,m=void 0===p||p,y=e.close,_=e.onConfirm,j=e.onCancel,k=d.useContext(u.E_).getPrefixCls;return d.createElement(h.Z,{componentName:"Popconfirm",defaultLocale:x.Z.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(n,"-inner-content")},d.createElement("div",{className:"".concat(n,"-message")},c,d.createElement("div",{className:"".concat(n,"-message-title")},(0,b.Z)(a))),d.createElement("div",{className:"".concat(n,"-buttons")},m&&d.createElement(v.Z,(0,r.Z)({onClick:j,size:"small"},t),null!==o&&void 0!==o?o:e.cancelText),d.createElement(g.Z,{buttonProps:(0,r.Z)((0,r.Z)({size:"small"},(0,f.n)(s)),i),actionFn:_,close:y,prefixCls:k("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==l&&void 0!==l?l:e.okText)))}))},_=void 0,j=function(e,n){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)n.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(i[r[t]]=e[r[t]])}return i},k=d.forwardRef((function(e,n){var i=d.useContext(u.E_).getPrefixCls,o=(0,s.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),v=(0,t.Z)(o,2),f=v[0],g=v[1],h=function(n,i){var r,t;g(n,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,n,i),null===(t=e.onOpenChange)||void 0===t||t.call(e,n,i)},x=e.prefixCls,b=e.placement,k=void 0===b?"top":b,Z=e.trigger,w=void 0===Z?"click":Z,C=e.okType,N=void 0===C?"primary":C,L=e.icon,P=void 0===L?d.createElement(a.Z,null):L,E=e.children,T=e.overlayClassName,O=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),V=i("popover",x),q=i("popconfirm",x),F=l()(q,T);return d.createElement(p.Z,(0,r.Z)({},O,{trigger:w,prefixCls:V,placement:k,onOpenChange:function(n){var i=e.disabled;void 0!==i&&i||h(n)},open:f,ref:n,overlayClassName:F,_overlay:d.createElement(y,(0,r.Z)({okType:N,icon:P},e,{prefixCls:V,close:function(e){h(!1,e)},onConfirm:function(n){var i;return null===(i=e.onConfirm)||void 0===i?void 0:i.call(_,n)},onCancel:function(n){var i;h(!1,n),null===(i=e.onCancel)||void 0===i||i.call(_,n)}}))}),(0,m.Tm)(E,{onKeyDown:function(e){var n,i;d.isValidElement(E)&&(null===(i=null===E||void 0===E?void 0:(n=E.props).onKeyDown)||void 0===i||i.call(n,e)),function(e){e.keyCode===c.Z.ESC&&f&&h(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=119.a12bca12.chunk.js.map