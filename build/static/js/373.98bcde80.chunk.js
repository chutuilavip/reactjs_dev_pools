"use strict";(self.webpackChunkpools_fe=self.webpackChunkpools_fe||[]).push([[373],{55373:function(e,n,l){l.r(n),l.d(n,{default:function(){return I}});var a=l(1413),i=l(37762),r=l(93433),s=l(29439),t=l(66776),o=l(44695),d=l(57468),c=l(91541),p=l(83734),u=l(25886),m=l(36755),v=l(34571),f=l(87309),h=l(72791),g=l(61134),x=l(59434),b=l(57689),j=l(16254),y=l(27387),Z=l(85798),N=l(34457),w=l(80184),_=d.Z.Dragger;function k(e){var n=e.control,l=e.defaultAvatar,i=e.errMessage,r=e.name,s=e.label,o={listType:"picture",accept:"image/png, image/jpeg",multiple:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){},onDrop:function(e){}};return(0,w.jsx)("div",{children:(0,w.jsx)(g.Qr,{control:n,name:r,render:function(e){var n=e.field;return(0,w.jsxs)(c.Z.Item,{label:s,children:[(0,w.jsxs)(_,(0,a.Z)((0,a.Z)((0,a.Z)({},o),n),{},{maxCount:1,listType:"picture",accept:"image/png, image/jpeg",children:[(0,w.jsx)("p",{className:"ant-upload-drag-icon",children:(0,w.jsx)(t.Z,{})}),(0,w.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,w.jsx)("p",{className:"ant-upload-hint",children:"Upload your new avatar"})]})),(0,w.jsxs)("div",{className:"note",children:[(0,w.jsxs)("p",{className:"hint",children:["The size of file must be less than"," ",(0,w.jsx)("span",{className:"special",children:"2MB"})]}),(0,w.jsxs)("p",{className:"hint",children:["The type must be ",(0,w.jsx)("span",{className:"special",children:"image/jpeg"})," or",(0,w.jsx)("span",{className:"special",children:" image/png"})," or",(0,w.jsx)("span",{className:"special",children:" image/jpg"})]})]}),l&&(0,w.jsxs)("div",{className:"cover-wrapper",children:[(0,w.jsx)("p",{children:"Current Cover :"}),(0,w.jsx)(m.Z,{preview:!1,src:"".concat(N.dz,"/").concat(l),alt:"Current Cover",className:"cover"})]}),(0,w.jsx)("p",{className:"error_message",children:i})]})}})})}var L,T=l(74165),C=l(15861),A=l(62797),S=l(35783),E=A.Ry({title:A.Z_().required(),appid:A.Z_().required(),summary:A.Z_().required().max(80,"Summary must be less than 80 characters"),full_description:A.Z_().required().max(4e3,"Description must be less than 4000 characters"),country_of_service:A.Z_().required(),category:A.Z_().required(),type:A.Z_().required(),free:A.Z_().required(),price:A.Z_().max(8,"Price must be less than 8 digits number"),cover:A.nK().test("fileSize","The size of file must be less than 2MB",(function(e){var n;return!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||(!e.fileList||e.fileList[0].size/1024/1024<2)})).test("widthHeight","File must be 255 of width and 390 of height",function(){var e=(0,C.Z)((0,T.Z)().mark((function e(n){var l,a,i,r,s,t;return(0,T.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&0!==(null===n||void 0===n||null===(l=n.fileList)||void 0===l?void 0:l.length)){e.next=2;break}return e.abrupt("return",!0);case 2:return a=n.file,i=URL.createObjectURL(null===a||void 0===a?void 0:a.originFileObj),e.prev=4,e.next=7,(0,S.Z)(i);case 7:return r=e.sent,s=r.width,t=r.height,e.abrupt("return",255===s&&390===t);case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}()).test("image-type","The type must be image/jpeg or image/png image/jpg",(function(e){var n;if(!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length))return!0;if(e.fileList){var l,a=(0,i.Z)(e.fileList);try{for(a.s();!(l=a.n()).done;){var r=l.value;return"image/jpeg"===r.type||"image/png"===r.type||"image/jpg"===r.type}}catch(s){a.e(s)}finally{a.f()}}return!0})),apkfile:A.nK().test("fileSize","The size of file must be less than 200MB",(function(e){var n;return!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||(!e.fileList||e.fileList[0].size/1024/1024<200)})),images:A.nK().test("image-type","The type must be image/jpeg or image/png",(function(e){var n;if(!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length))return!0;if(e.fileList){var l,a=(0,i.Z)(e.fileList);try{for(a.s();!(l=a.n()).done;){var r=l.value;return"image/jpeg"===r.type||"image/png"===r.type}}catch(s){a.e(s)}finally{a.f()}}return!0})).test("fileLength","You must upload max 8 images",(function(e){var n,l;return!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||!((null===e||void 0===e||null===(l=e.fileList)||void 0===l?void 0:l.length)>8)}))}).required(),P=[{locale_code:"nft",title:"NFT"},{locale_code:"metaverse",title:"Metaverse"},{locale_code:"play-to-earn",title:"Play To Earn"}],O=[{locale_code:"1",id:1,title:"Pay"},{locale_code:"0",id:2,title:"Free"}],q=[[{name:"appid",label:"App ID",placeholder:"Enter App ID",disabled:!0},{name:"title",label:"Title",placeholder:"Enter App Title"}],[{name:"summary",label:"Summary",placeholder:"Enter Summary"},{name:"full_description",label:"Description",placeholder:"Enter Description"}],[{name:"recent_change",label:"Recent Change",placeholder:"Enter Recent Change"},{name:"app_version",label:"App Version",placeholder:"Enter App Version"}],[{name:"privacy_policy",label:"Privacy Policy",placeholder:"Enter Privacy Policy"},{name:"term_of_policy",label:"Term Of Policy",placeholder:"Enter Term Of Policy"},{name:"app_support",label:"App Support",placeholder:"Enter App Support"}]],z=l(30168),D=l(54088).ZP.div(L||(L=(0,z.Z)(["\n  padding: 1rem;\n  min-height: 100vh;\n  &&& {\n    .ant-form-item-label > label {\n      text-transform: uppercase;\n      margin: 2rem 0;\n      display: inline-block;\n      background: red;\n      padding: 5px 1rem;\n      border-radius: 5px;\n      box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n      color: white;\n      background-color: #007fff;\n      /* background-image: linear-gradient(18deg, #0093e9 0%, #80d0c7 100%); */\n    }\n    .ant-form-item-label {\n      width: 20%;\n      text-align: left;\n    }\n\n    .ant-select {\n      width: 100%;\n    }\n    .ant-select-selection-item {\n      color: black;\n    }\n    .ant-select:not(.ant-select-customize-input) .ant-select-selector {\n      height: 4rem;\n      display: flex;\n      align-items: center;\n      border-radius: 4px;\n      background: white;\n    }\n\n    input.ant-input {\n      border: none;\n      border-bottom: 1px solid #d7d7d7;\n    }\n  }\n  form {\n    width: 80%;\n    margin: auto;\n    .error_message {\n      color: red;\n      margin-top: 1rem;\n    }\n    .locale {\n      display: flex;\n      flex-direction: column;\n      margin-bottom: 2rem;\n      p {\n        width: 25%;\n        margin-bottom: 2rem;\n      }\n    }\n  }\n  .row {\n    display: flex;\n    gap: 6rem;\n  }\n  .fieldLabel {\n    text-transform: uppercase;\n    margin-bottom: 4rem;\n    display: inline-block;\n    height: 4rem;\n    display: flex;\n    background: red;\n    padding: 5px 1rem;\n    border-radius: 5px;\n    box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n    color: white;\n    background-color: #007fff;\n    align-items: center;\n  }\n  .field-item {\n    width: 100%;\n    padding: 1rem;\n    margin-bottom: 2rem;\n    box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n    border-radius: 5px;\n    input {\n      &:active,\n      &:focus {\n        outline: none;\n      }\n    }\n  }\n  .step_group {\n    margin: auto;\n    display: flex;\n    justify-content: space-between;\n    .btn-group {\n      display: flex;\n    }\n    .btn {\n      width: 30rem;\n    }\n  }\n  .cover-wrapper {\n    margin-top: 2rem;\n    text-transform: uppercase;\n  }\n  .cover {\n    width: 50%;\n    border-radius: 5px;\n    margin-top: 1rem;\n  }\n\n  .screenshots-wrapper {\n    margin-top: 1rem;\n    .screenshots {\n      display: flex;\n      gap: 5rem;\n      flex-wrap: wrap;\n      flex-direction: column;\n      .image {\n        width: 100%;\n        display: flex;\n        padding: 1rem;\n        border-radius: 5px;\n        box-shadow: rgb(99 99 99 / 20%) 0px 2px 8px 0px;\n      }\n      .screenshot {\n        width: 20%;\n        aspect-ratio: 2/1;\n\n        img {\n          height: 100%;\n        }\n      }\n    }\n  }\n"]))),F=d.Z.Dragger;function I(){var e,n,l,d=(0,x.I0)(),_=(0,b.UO)(),L=(0,g.cI)({defaultValues:{price:null},resolver:(0,o.X)(E)}),T=L.getValues,C=L.control,A=L.setFocus,S=L.handleSubmit,z=L.reset,I=L.setError,U=L.setValue,M=L.formState.errors,V=(0,x.v9)((function(e){return e.detailApp})),Q=V.languages,R=V.categories,B=(V.isLoading,V.detailAppWithLang),K=V.isLoadingDeleteScreenshot,Y=V.isLoadingEditApp,J=(0,h.useState)(!0),$=(0,s.Z)(J,2),H=$[0],W=$[1],X=(0,h.useState)(""),G=(0,s.Z)(X,2),ee=G[0],ne=G[1],le=(0,b.s0)(),ae=[[{name:"category",label:"Category",data:R},{name:"type",label:"Type",data:P}],[{name:"free",label:"Cost",data:O},{name:"country_of_service",label:"Country Of Service",data:Q},{name:"otherlanguages",label:"Other Languages",data:Q}]],ie=function(e){var n,l=null===(n=e.data)||void 0===n?void 0:n.map((function(n){return console.log(e),"otherlanguages"===e.name?{value:n.code,label:n.language||n.title}:{value:n.locale_code||n.id,label:n.language||n.title}}));return[{value:"",label:"Select App ".concat(e.label),disabled:!0}].concat((0,r.Z)(l))},re={listType:"picture",accept:"image/png, image/jpeg",multiple:!1,action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(e){},onDrop:function(e){}},se=function(){d((0,j.$J)({slug:null===_||void 0===_?void 0:_.slug,lang:ee}))},te=function(){le("/account")},oe=function(e){U("free",e),"1"===e?W(!1):"0"===e&&W(!0)},de=function(e){var n,l;d((0,j.Yw)({name_image:e,appid:null===B||void 0===B||null===(n=B.data)||void 0===n||null===(l=n.app)||void 0===l?void 0:l.appid,reload:se}))};return(0,h.useEffect)((function(){var e,n,l,a,r=Object.keys(T()),s={};if(B){var t,o,d,c;"1"===(null===B||void 0===B||null===(t=B.data)||void 0===t||null===(o=t.app)||void 0===o?void 0:o.is_pay)?W(!1):"0"===(null===B||void 0===B||null===(d=B.data)||void 0===d||null===(c=d.app)||void 0===c?void 0:c.is_pay)&&W(!0);var p,u=(0,i.Z)(r);try{for(u.s();!(p=u.n()).done;){var m=p.value;if("locale"===m)s[m]="";else{if("cover"===m||"images"===m||"apkfile"===m)continue;if("type"===m)switch(null===B||void 0===B||null===(e=B.data)||void 0===e||null===(n=e.app)||void 0===n?void 0:n.type){case"1":s[m]="nft";break;case"2":s[m]="metaverse";break;default:s[m]="play-to-earn"}else if("full_description"===m){var v;if(null!==B&&void 0!==B&&B.data.info)s[m]=null===B||void 0===B||null===(v=B.data)||void 0===v?void 0:v.info.description;else s[m]=""}else if("country_of_service"===m){var f;if(null!==B&&void 0!==B&&B.data.info)s[m]=null===B||void 0===B||null===(f=B.data)||void 0===f?void 0:f.info.country;else s[m]=""}else if("otherlanguages"===m){var h;if(null!==B&&void 0!==B&&B.data.info)s[m]=null===B||void 0===B||null===(h=B.data)||void 0===h?void 0:h.info.other_languages;else s[m]=""}else if("free"===m){var g,x;s[m]=null===B||void 0===B||null===(g=B.data)||void 0===g||null===(x=g.app)||void 0===x?void 0:x.is_pay}else{var b,j,y,Z;if(null!==B&&void 0!==B&&null!==(b=B.data)&&void 0!==b&&b.info)s[m]=(null===B||void 0===B||null===(j=B.data)||void 0===j?void 0:j.app[m])||(null===B||void 0===B||null===(y=B.data)||void 0===y?void 0:y.info[m])||"";else s[m]=(null===B||void 0===B||null===(Z=B.data)||void 0===Z?void 0:Z.app[m])||""}}}}catch(N){u.e(N)}finally{u.f()}}s.price=Number(null===B||void 0===B||null===(l=B.data)||void 0===l||null===(a=l.app)||void 0===a?void 0:a.price).toFixed(0),z(s)}),[B,T]),(0,h.useEffect)((function(){d((0,j.bT)())}),[]),(0,h.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),console.log(M),(0,w.jsxs)(D,{children:[(0,w.jsx)("h1",{style:{textAlign:"center"},children:"EDIT APP"}),(0,w.jsxs)(c.Z,{onFinish:S((function(e){var n,l,a=Object.assign(T(),{locale:ee});if(console.log(H,a),!H&&!Number(a.price))return I("price",{type:"required",message:"Price is required when you set app is Pay"}),void A("price");if(null!==B&&void 0!==B&&null!==(n=B.data)&&void 0!==n&&null!==(l=n.app)&&void 0!==l&&l.screenshots||a.images){for(var i=0,s=Object.keys(a);i<s.length;i++){var t,o,c,p,u=s[i];if("cover"===u)if(null!==(t=a.cover)&&void 0!==t&&t.file)a.cover=null===(o=a.cover.file)||void 0===o?void 0:o.originFileObj;else a.cover=null===B||void 0===B||null===(c=B.data)||void 0===c||null===(p=c.app)||void 0===p?void 0:p.cover;else if("apkfile"===u){var m,v,f,h;if(null!==(m=a.apkfile)&&void 0!==m&&m.file)a.apkfile=null===(v=a.apkfile.file)||void 0===v?void 0:v.originFileObj;else a.apkfile=null===B||void 0===B||null===(f=B.data)||void 0===f||null===(h=f.app)||void 0===h?void 0:h.file_apk}else if("images"===u){var g;null!==(g=a.images)&&void 0!==g&&g.fileList&&(a.images=(0,r.Z)(a.images.fileList))}}var x=(0,y.x)(a);d((0,j.rf)({data:x,callBack:te}))}else I("images",{type:"required",message:"Images is required"})})),children:[(0,w.jsx)("h1",{children:"Step 1 : Choo your app's locale"}),Object.keys(Q).length>0?(0,w.jsxs)("div",{className:"locale",children:[(0,w.jsx)("p",{className:"fieldLabel",children:"Locale :"}),(0,w.jsx)(p.Z,{defaultValue:"",onChange:function(e){z({}),ne(e),d((0,j.$J)({slug:null===_||void 0===_?void 0:_.slug,lang:e}))},options:[{value:"",label:"Choo App locale to edit",disabled:!0}].concat((0,r.Z)(Q.map((function(e,n){return{value:e.code,label:e.language}}))))})]}):(0,w.jsx)(Z.Z,{}),ee&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("hr",{}),(0,w.jsx)("h1",{children:"Step 2 : Edit your app"}),q.map((function(e,n){return(0,w.jsx)("div",{className:"row",children:e.map((function(e,n){return(0,w.jsx)(g.Qr,{control:C,name:e.name,render:function(n){var l,i=n.field;return(0,w.jsxs)("div",{className:"field-item",children:[(0,w.jsxs)("label",{className:"fieldLabel",children:[e.label," :"]}),(0,w.jsx)(u.Z,(0,a.Z)((0,a.Z)({disabled:(null===e||void 0===e?void 0:e.disabled)||!1},i),{},{placeholder:e.placeholder,type:e.type||"text"})),(0,w.jsx)("p",{className:"error_message",children:null===(l=M[e.name])||void 0===l?void 0:l.message})]})}},n)}))},n)})),ae.map((function(e,n){return(0,w.jsx)("div",{className:"row",children:e.map((function(e,n){return(0,w.jsx)(g.Qr,{control:C,name:e.name,render:function(n){var l,i=n.field;return(0,w.jsxs)("div",{className:"field-item",children:[(0,w.jsxs)("label",{className:"fieldLabel",children:[e.label," :"]}),(0,w.jsx)(p.Z,(0,a.Z)((0,a.Z)({},i),{},{defaultValue:"",onChange:"free"===e.name?oe:i.onChange,options:ie(e)})),(0,w.jsx)("p",{className:"error_message",children:null===(l=M[e.name])||void 0===l?void 0:l.message})]})}},n)}))},n)})),!H&&(0,w.jsxs)("div",{className:"field-item",children:[" ",(0,w.jsx)(g.Qr,{style:{width:"100%"},control:C,name:"price",render:function(e){var n,l=e.field;return(0,w.jsxs)(c.Z.Item,{label:"App Price",children:[(0,w.jsx)(u.Z,(0,a.Z)((0,a.Z)({},l),{},{placeholder:"Enter App price",type:"number"})),(0,w.jsx)("p",{className:"error_message",children:null===M||void 0===M||null===(n=M.price)||void 0===n?void 0:n.message})]})}})]}),(0,w.jsx)(k,{control:C,defaultAvatar:null===B||void 0===B||null===(e=B.data)||void 0===e||null===(n=e.app)||void 0===n?void 0:n.cover,errMessage:null===M||void 0===M||null===(l=M.cover)||void 0===l?void 0:l.message,name:"cover",label:"App Cover"}),(0,w.jsx)(g.Qr,{control:C,name:"images",render:function(e){var n,l,i,r,s,o=e.field;return(0,w.jsxs)(c.Z.Item,{label:"App Images",children:[(0,w.jsxs)(F,(0,a.Z)((0,a.Z)((0,a.Z)({},re),o),{},{multiple:!0,listType:"picture",accept:"image/png, image/jpeg",children:[(0,w.jsx)("p",{className:"ant-upload-drag-icon",children:(0,w.jsx)(t.Z,{})}),(0,w.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,w.jsx)("p",{className:"ant-upload-hint",children:"Upload your new app's screenshot"})]})),(0,w.jsxs)("div",{className:"note",children:[(0,w.jsxs)("p",{className:"hint",children:["You must upload max",(0,w.jsx)("span",{className:"special",children:" 8 images"})]}),(0,w.jsxs)("p",{className:"hint",children:["The type must be"," ",(0,w.jsx)("span",{className:"special",children:"image/jpeg"})," or",(0,w.jsx)("span",{className:"special",children:" image/png"})," or",(0,w.jsx)("span",{className:"special",children:" image/jpg"})]})]}),(0,w.jsxs)("div",{className:"screenshots-wrapper",children:[(0,w.jsxs)("p",{style:{textTransform:"uppercase",margin:"3rem 0"},children:["Current Screenshots:"," "]}),K?(0,w.jsx)(Z.Z,{}):(0,w.jsx)("div",{className:"screenshots",children:null!==B&&void 0!==B&&null!==(n=B.data)&&void 0!==n&&null!==(l=n.app)&&void 0!==l&&l.screenshots?JSON.parse(null===B||void 0===B||null===(i=B.data)||void 0===i||null===(r=i.app)||void 0===r?void 0:r.screenshots).map((function(e,n){return(0,w.jsxs)("div",{className:"image",children:[(0,w.jsx)(m.Z,{className:"screenshot",style:{marginTop:"1rem",borderRadius:"1rem"},preview:!1,src:"".concat(N.dz).concat(e),alt:"screenshot"},n),(0,w.jsx)(v.Z,{title:"Are you sure wanna delete this image\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return de(e)},children:(0,w.jsx)(f.Z,{type:"danger",onClick:function(){return de(e)},children:"x"})})]},n)})):(0,w.jsx)("p",{children:"Nothing"})})]}),(0,w.jsx)("p",{className:"error_message",children:null===(s=M.images)||void 0===s?void 0:s.message})]})}}),(0,w.jsx)(g.Qr,{control:C,name:"apkfile",render:function(e){var n,l,i,r,s,o=e.field;return(0,w.jsxs)(c.Z.Item,{label:"App Apk",children:[(0,w.jsxs)(F,(0,a.Z)((0,a.Z)({},o),{},{multiple:!1,accept:".apk",maxCount:1,children:[(0,w.jsx)("p",{className:"ant-upload-drag-icon",children:(0,w.jsx)(t.Z,{})}),(0,w.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,w.jsx)("p",{className:"ant-upload-hint",children:"Upload your new apk"})]})),(0,w.jsxs)("div",{className:"note",children:[(0,w.jsxs)("p",{className:"hint",children:["The size of file must be less than",(0,w.jsx)("span",{className:"special",children:" 200MB"})]}),(0,w.jsxs)("p",{className:"hint",children:["The type must be ",(0,w.jsx)("span",{className:"special",children:"APK"})]})]}),(0,w.jsx)("p",{className:"error_message",children:null===(n=M.apkfile)||void 0===n?void 0:n.message}),(null===B||void 0===B||null===(l=B.data)||void 0===l||null===(i=l.app)||void 0===i?void 0:i.file_apk)&&(0,w.jsx)("p",{style:{border:"1px dashed black",padding:"1rem",marginTop:"2rem",cursor:"not-allowed"},children:(0,N.UO)(null===B||void 0===B||null===(r=B.data)||void 0===r||null===(s=r.app)||void 0===s?void 0:s.file_apk)})]})}})]}),""!==ee&&(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)("hr",{}),(0,w.jsx)("h1",{children:"Step 3: Update your app"}),(0,w.jsx)(f.Z,{style:{width:"100%"},type:"primary",htmlType:"submit",loading:Y,children:"Update App"})]})]})]})}}}]);
//# sourceMappingURL=373.98bcde80.chunk.js.map