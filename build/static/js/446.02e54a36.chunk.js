"use strict";(self.webpackChunkpools_fe=self.webpackChunkpools_fe||[]).push([[446],{69446:function(e,t,n){n.r(t),n.d(t,{default:function(){return z}});var a,r,i,o=n(1413),s=n(29439),l=n(2649),c=n(87309),d=n(25886),u=n(39916),p=n(69221),m=n(72791),g=n(59434),h=n(11087),x=n(16254),f=n(34457),v=n(83099),y=n(34571),b=n(80184),k=function(e){var t=e.slug,n=e.appId,a=e.appId2,r=e.pagingParams,i=e.setIsModalOpen,o=(0,g.I0)();return(0,b.jsxs)(v.Z,{children:[(0,b.jsx)(y.Z,{title:"Are you sure delete this App\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return o((0,x.P2)({appId:n,callBack:function(){o((0,x.Ct)(r))}}))},children:(0,b.jsx)(c.Z,{type:"primary",danger:!0,className:"button",children:"Delete"})}),(0,b.jsx)(c.Z,{type:"primary",className:"button",children:(0,b.jsx)(h.OL,{to:"/for-publishers/edit-app/".concat(t),children:"Edit"})}),(0,b.jsx)(c.Z,{type:"primary",className:"button",style:{backgroundColor:"yellow",border:"none",color:"black"},onClick:function(){return i(!0)},children:(0,b.jsx)(h.OL,{style:{backgroundColor:"yellow",border:"none",color:"black"},to:"/created-app/".concat(a),children:"Comment"})})]})},j=n(36755),w=n(82862),I=n(57689),Z=n(30168),C=n(54088),N=C.ZP.div(a||(a=(0,Z.Z)(["\n  .ant-modal-content {\n    width: 30rem !important;\n  }\n  .user_avatar {\n    width: 20rem;\n  }\n"]))),A=n(85798),_=[{title:"User",dataIndex:"user",key:"user",render:function(e){return(0,b.jsx)(j.Z,{className:"user_avatar",src:"".concat(f.dz,"/").concat(e),preview:!1})}},{title:"Name",dataIndex:"name",key:"cover"},{title:"Comment",dataIndex:"comment",key:"comment",width:"55%",height:"auto"},{title:"Title",dataIndex:"title",key:"title"},{title:"Rating",dataIndex:"rating",key:"rating"},{title:"Status",dataIndex:"status",key:"status"},{title:"Update at",dataIndex:"updated_at",key:"updated_at"},{title:"Dislike",dataIndex:"dislike",key:"dislike"},{title:"Like",dataIndex:"approval",key:"approval"},{title:"Action",dataIndex:"actions",key:"actions",render:function(e){e.appId,e.commentId;return(0,b.jsx)(c.Z,{type:"primary",className:"button",children:"Reply"})}}],S=function(e){var t=e.onOk,n=e.onCancel,a=(0,I.UO)(),r=(0,g.I0)(),i=(0,m.useRef)(),l=(0,g.v9)((function(e){return e.detailApp})),c=l.appComments,h=l.isLoadingGetComment,f=(0,m.useState)({limit:10,page:0,search:""}),v=(0,s.Z)(f,2),y=v[0],k=v[1];(0,m.useEffect)((function(){var e={appId:a.appId,limit:y.limit,page:y.page,search:y.search};r((0,x.bQ)(e))}),[y]);return(0,b.jsx)(N,{children:(0,b.jsxs)(w.Z,{title:"App Comment",open:!0,onOk:t,onCancel:n,children:[0!==Number(null===c||void 0===c?void 0:c.total)&&(0,b.jsx)(d.Z,{placeholder:"Find somethings....",allowClear:!0,size:"large",onChange:function(e){i.current&&clearTimeout(i.current),i.current=setTimeout((function(){k((function(t){return(0,o.Z)((0,o.Z)({},t),{},{search:e.target.value})}))}),1e3)},style:{marginBottom:"4rem",width:"50%",marginLeft:"auto",borderRadius:"5px"}}),(0,b.jsx)("div",{className:"pagination_modal",children:0!==Number(null===c||void 0===c?void 0:c.total)&&(0,b.jsx)(p.Z,{onChange:function(e,t){k((function(n){return(0,o.Z)((0,o.Z)({},n),{},{limit:t,page:e})}))},total:(null===c||void 0===c?void 0:c.total)||10,showSizeChanger:!0,showQuickJumper:!0})}),(0,b.jsx)(u.Z,{columns:_,dataSource:function(){var e,t=[];c&&(null===(e=c.data)||void 0===e||e.forEach((function(e){var n,a="";switch(Number(e.status)){case"0":a="Not approve";break;case"1":a="Active";break;default:a="Waiting"}t.push({comment:e.comment,name:e.title,title:e.title,rating:e.rating,user:null===(n=e.user)||void 0===n?void 0:n.avatar,updated_at:e.updated_at,status:a,dislike:e.dislike,like:e.approval,actions:{appId:e.appid}})})));return t}(),pagination:!1,loading:h})]})})},O=n(83734),L=n(72426),T=n.n(L),E=C.ZP.div(r||(r=(0,Z.Z)(["\n  box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n  padding: 2rem;\n  border-radius: 15px;\n  margin-bottom: 2rem;\n  min-width: 70rem;\n  p {\n    margin-bottom: 1rem;\n    width: 100%;\n    margin-right: 5rem;\n    box-shadow: rgb(50 50 93 / 25%) 0px 2px 5px -1px, rgb(0 0 0 / 30%) 0px 1px 3px -1px;\n    padding: 5px 2rem;\n    border-radius: 5px;\n  }\n  .label {\n    color: #4e7093;\n    text-transform: uppercase;\n    margin-right: 2rem;\n  }\n"]))),M=function(e){var t=e.data;return(0,b.jsxs)(E,{children:[(0,b.jsxs)("h1",{children:[(0,b.jsx)("span",{className:"",children:"Update At"}),(0,b.jsxs)("span",{className:"detail",children:[" ",T()(t.updated_at).format("MMMM Do YYYY, h:mm:ss a")]})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"label",children:"Description"})," ",(0,b.jsxs)("span",{className:"detail",children:[t.description," "]})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"label",children:"App Version"}),(0,b.jsxs)("span",{className:"detail",children:[" ",t.app_version," "]})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"label",children:"App ID"}),(0,b.jsxs)("span",{className:"detail",children:[" ",t.id_app," "]})]}),(0,b.jsxs)("p",{children:[(0,b.jsx)("span",{className:"label",children:"Created At"}),(0,b.jsxs)("span",{className:"detail",children:[" ",T()(t.created_at).format("MMMM Do YYYY, h:mm:ss a")]})]})]})},P=function(e){var t=e.historyUpdate;return(0,b.jsx)(b.Fragment,{children:t&&t.map((function(e,t){return(0,b.jsx)(M,{data:e},"history-".concat(t))}))})},R=function(e){var t=e.onOk,n=e.onCancel,a=(0,I.UO)(),r=(0,g.I0)(),i=(0,m.useRef)(),l=(0,m.useState)({keyword:"",locale:""}),c=(0,s.Z)(l,2),u=c[0],p=c[1],h=(0,m.useState)(null),f=(0,s.Z)(h,2),v=f[0],y=f[1],k=(0,g.v9)((function(e){return e.detailApp})),j=k.historyUpdate,Z=k.isLoadingGetHistory,C=k.statusGetHistory,N=k.languages,_=k.isLoading,S=function(e){r((0,x.dq)({appId:a.id,keyword:u.keyword,locale:e||u.locale}))};(0,m.useEffect)((function(){r((0,x.bT)()).unwrap().then((function(e){S(e.language[0].code),y(e.language[0].code)}))}),[]),(0,m.useEffect)((function(){_||S()}),[u]);return console.log(v),(0,b.jsx)("div",{children:(0,b.jsx)(w.Z,{title:"History update of app",open:!0,onOk:t,onCancel:n,children:null!==v&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{children:"Choose Locale"}),(0,b.jsx)(O.Z,{style:{width:"100%",margin:"auto",marginBottom:"2rem"},defaultValue:v,onChange:function(e){p((function(t){return(0,o.Z)((0,o.Z)({},t),{},{locale:e})}))},options:N&&N.map((function(e,t){return{key:t,value:e.code,label:e.language}}))}),(0,b.jsx)(d.Z,{placeholder:"Enter your App Version to find....",allowClear:!0,size:"large",onChange:function(e){i.current&&clearTimeout(i.current),i.current=setTimeout((function(){p((function(t){return(0,o.Z)((0,o.Z)({},t),{},{keyword:e.target.value})}))}),1e3)},style:{marginBottom:"4rem",width:"50%",marginLeft:"auto",borderRadius:"5px"}}),Z&&"success"!==C?(0,b.jsx)(A.Z,{}):(0,b.jsx)(P,{historyUpdate:j})]})})})},U=C.ZP.div(i||(i=(0,Z.Z)(["\n  background: var(--bg-dark);\n  padding: 1rem;\n  h1 {\n    color: white;\n  }\n  &&& {\n    .ant-select:not(.ant-select-customize-input) .ant-select-selector {\n      border: none;\n    }\n    .ant-pagination {\n      color: white;\n    }\n    .ant-table table {\n      padding: 5rem;\n    }\n    .ant-table-row {\n      transition: all 0.4s;\n      &:hover {\n        transform: scale(1.05);\n        box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n      }\n    }\n  }\n  .button {\n    transition: all 0.5s;\n    color: white;\n    padding: 5px 1rem;\n    border-radius: 4px;\n    box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n    text-align: center;\n\n    &:active {\n      transform: scale(1.1);\n    }\n  }\n  .status_active {\n    background: #2cbc63;\n    clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n  }\n\n  .status_waiting {\n    background: var(--bg-blue);\n    clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n  }\n  .status_reject {\n    background: red;\n    clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n  }\n  .table {\n    display: flex;\n    flex-direction: column;\n  }\n  .pagination {\n    background: #1c212f;\n    padding: 1rem;\n    margin-top: 2rem;\n    color: white;\n  }\n  .feature {\n    display: flex;\n  }\n"])));function Y(e,t){var n=(0,g.I0)(),a=m.useRef(),r=(0,g.v9)((function(e){return e.detailApp})),i=r.createdApps,v=r.isLoadingCreatedApps,y=(0,m.useState)({limit:10,page:0,title:""}),j=(0,s.Z)(y,2),w=j[0],I=j[1],Z=(0,m.useState)(!1),C=(0,s.Z)(Z,2),N=C[0],A=C[1],_=(0,m.useState)(!1),O=(0,s.Z)(_,2),L=O[0],T=O[1];(0,m.useEffect)((function(){n((0,x.Ct)(w))}),[w]),(0,m.useEffect)((function(){return function(){localStorage.setItem("pagingParams",JSON.stringify(w))}}),[]);var E=function(e){switch(e){case"Active":return"status_active";case"Waiting":return"status_waiting";default:return"status_rejected"}},M=[{title:"Cover",dataIndex:"cover",key:"cover",render:function(e){return(0,b.jsx)(l.C,{src:e?"".concat(f.dz,"/").concat(e):"https://joeschmoe.io/api/v1/random"})}},{title:"Developer",dataIndex:"developer",key:"developer"},{title:"Installs",dataIndex:"installs",key:"installs"},{title:"History Update",dataIndex:"history",key:"history",render:function(e){return(0,b.jsx)(c.Z,{type:"primary",className:"button",style:{width:"90%"},onClick:function(){return T(!0)},children:(0,b.jsx)(h.OL,{to:"/created-app/history-update/".concat(e),children:"History"})})}},{title:"Score",dataIndex:"score",key:"score"},{title:"Slug",dataIndex:"slug",key:"slug"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return(0,b.jsx)("p",{className:"button ".concat(E(e)),children:e})}},{title:"Title",dataIndex:"title",key:"title"},{title:"Action",dataIndex:"action",key:"action",render:function(e){var t=e.slug,n=e.appId,a=e.appId2;return(0,b.jsx)(k,{slug:t,appId:n,appId2:a,pagingParams:w,setIsModalOpen:A})}}];return(0,b.jsxs)(b.Fragment,{children:[N&&(0,b.jsx)(S,{onOk:function(){A(!1)},onCancel:function(){A(!1)}}),L&&(0,b.jsx)(R,{onOk:function(){T(!1)},onCancel:function(){T(!1)}}),(0,b.jsxs)(U,{ref:t,id:"created-app",children:[(0,b.jsx)("h1",{style:{width:"100%",textAlign:"center",marginBottom:"5rem"},children:"CREATED APP"}),(0,b.jsxs)("div",{className:"table",children:[(0,b.jsx)(d.Z,{placeholder:"Find somethings....",allowClear:!0,size:"large",onChange:function(e){a.current&&clearTimeout(a.current),a.current=setTimeout((function(){I((function(t){return(0,o.Z)((0,o.Z)({},t),{},{title:e.target.value})}))}),1e3)},style:{marginBottom:"4rem",width:"50%",marginLeft:"auto"}}),(0,b.jsx)(u.Z,{columns:M,dataSource:function(){var e,t=[];i&&(null===(e=i.data)||void 0===e||e.forEach((function(e){var n="";switch(Number(e.status)){case 0:n="Not approve";break;case 1:n="Active";break;default:n="Waiting"}t.push({cover:e.cover,developer:e.developer,installs:e.installs,history:e.id,score:e.score,slug:e.slug,status:n,title:e.title,action:{slug:e.slug,appId:e.id,appId2:e.appid}})})));return t}(),pagination:!1,loading:v}),(0,b.jsx)("div",{className:"pagination",children:(0,b.jsx)(p.Z,{onChange:function(e,t){I((function(n){return(0,o.Z)((0,o.Z)({},n),{},{limit:t,page:e})}))},total:(null===i||void 0===i?void 0:i.total)||10,showSizeChanger:!0,showQuickJumper:!0})})]})]})]})}var z=(0,m.forwardRef)(Y)}}]);
//# sourceMappingURL=446.02e54a36.chunk.js.map