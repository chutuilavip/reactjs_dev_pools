"use strict";(self.webpackChunkpools_fe=self.webpackChunkpools_fe||[]).push([[885],{41885:function(e,n,t){t.r(n),t.d(n,{default:function(){return $}});var a=t(1413),r=t(29439),i=t(2649),o=t(87309),l=t(25886),s=t(39916),c=t(69221),d=t(72791),u=t(59434),p=t(11087),m=t(16254),f=t(34457),g=t(87462),h=t(4942),x=t(81694),v=t.n(x),y=t(85501),b=t(71929),k=t(19911);function Z(e){var n=e.className,t=e.direction,a=e.index,r=e.marginDirection,i=e.children,o=e.split,l=e.wrap,s=d.useContext(C),c=s.horizontalSize,u=s.verticalSize,p=s.latestIndex,m={};return s.supportFlexGap||("vertical"===t?a<p&&(m={marginBottom:c/(o?2:1)}):m=(0,g.Z)((0,g.Z)({},a<p&&(0,h.Z)({},r,c/(o?2:1))),l&&{paddingBottom:u})),null===i||void 0===i?null:d.createElement(d.Fragment,null,d.createElement("div",{className:n,style:m},i),a<p&&o&&d.createElement("span",{className:"".concat(n,"-split"),style:m},o))}var j=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},C=d.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),w={small:8,middle:16,large:24};var I,N,O,E,P=function(e){var n,t=d.useContext(b.E_),a=t.getPrefixCls,i=t.space,o=t.direction,l=e.size,s=void 0===l?(null===i||void 0===i?void 0:i.size)||"small":l,c=e.align,u=e.className,p=e.children,m=e.direction,f=void 0===m?"horizontal":m,x=e.prefixCls,I=e.split,N=e.style,O=e.wrap,E=void 0!==O&&O,P=j(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),S=(0,k.Z)(),z=d.useMemo((function(){return(Array.isArray(s)?s:[s,s]).map((function(e){return function(e){return"string"===typeof e?w[e]:e||0}(e)}))}),[s]),A=(0,r.Z)(z,2),_=A[0],T=A[1],M=(0,y.Z)(p,{keepEmpty:!0}),L=void 0===c&&"horizontal"===f?"center":c,D=a("space",x),Y=v()(D,"".concat(D,"-").concat(f),(n={},(0,h.Z)(n,"".concat(D,"-rtl"),"rtl"===o),(0,h.Z)(n,"".concat(D,"-align-").concat(L),L),n),u),B="".concat(D,"-item"),R="rtl"===o?"marginLeft":"marginRight",F=0,V=M.map((function(e,n){null!==e&&void 0!==e&&(F=n);var t=e&&e.key||"".concat(B,"-").concat(n);return d.createElement(Z,{className:B,key:t,direction:f,index:n,marginDirection:R,split:I,wrap:E},e)})),U=d.useMemo((function(){return{horizontalSize:_,verticalSize:T,latestIndex:F,supportFlexGap:S}}),[_,T,F,S]);if(0===M.length)return null;var G={};return E&&(G.flexWrap="wrap",S||(G.marginBottom=-T)),S&&(G.columnGap=_,G.rowGap=T),d.createElement("div",(0,g.Z)({className:Y,style:(0,g.Z)((0,g.Z)({},G),N)},P),d.createElement(C.Provider,{value:U},V))},S=t(34571),z=t(80184),A=function(e){var n=e.slug,t=e.appId,a=e.appId2,r=e.pagingParams,i=e.setIsModalOpen,l=(0,u.I0)();return(0,z.jsxs)(P,{children:[(0,z.jsx)(S.Z,{title:"Are you sure delete this App\uff1f",okText:"Yes",cancelText:"No",onConfirm:function(){return l((0,m.P2)({appId:t,callBack:function(){l((0,m.Ct)(r))}}))},children:(0,z.jsx)(o.Z,{type:"primary",danger:!0,className:"button",children:"Delete"})}),(0,z.jsx)(o.Z,{type:"primary",className:"button",style:{border:"none",padding:"0"},children:(0,z.jsx)(p.OL,{style:{border:"none",display:"inline-block",padding:"4px 15px"},to:"/for-publishers/edit-app/".concat(n),children:"Edit"})}),(0,z.jsx)(o.Z,{type:"primary",className:"button",style:{backgroundColor:"yellow",border:"none",color:"black",padding:"0"},children:(0,z.jsx)(p.OL,{onClick:function(){return i(!0)},style:{backgroundColor:"yellow",border:"none",color:"black",width:"100%",height:"100%",display:"inline-block",padding:"4px 15px"},to:"/for-publishers/created-app/".concat(a),children:"Comment"})})]})},_=t(36755),T=t(82862),M=t(72426),L=t.n(M),D=t(57689),Y=t(30168),B=t(54088),R=B.ZP.div(I||(I=(0,Y.Z)(["\n  .ant-modal-content {\n    width: 30rem !important;\n  }\n  .user_avatar {\n    width: 20rem;\n  }\n"]))),F=[{title:"User",dataIndex:"user",key:"user",render:function(e){return(0,z.jsx)(_.Z,{className:"user_avatar",src:"".concat(f.dz,"/").concat(e),preview:!1})}},{title:"Name",dataIndex:"name",key:"cover"},{title:"Comment",dataIndex:"comment",key:"comment",width:"55%",height:"auto"},{title:"Title",dataIndex:"title",key:"title"},{title:"Rating",dataIndex:"rating",key:"rating"},{title:"Status",dataIndex:"status",key:"status"},{title:"Update at",dataIndex:"updated_at",key:"updated_at",render:function(e){return(0,z.jsx)("span",{children:L()(e).format("MMMM Do YYYY, h:mm:ss a")})}},{title:"Dislike",dataIndex:"dislike",key:"dislike"},{title:"Like",dataIndex:"approval",key:"approval"},{title:"Action",dataIndex:"actions",key:"actions",render:function(e){e.appId,e.commentId;return(0,z.jsx)(o.Z,{type:"primary",className:"button",children:"Reply"})}}],V=function(e){var n=e.onOk,t=e.onCancel,i=(0,D.UO)(),o=(0,u.I0)(),p=(0,d.useRef)(),f=(0,u.v9)((function(e){return e.detailApp})),g=f.appComments,h=f.isLoadingGetComment,x=(0,d.useState)({limit:10,page:0,search:""}),v=(0,r.Z)(x,2),y=v[0],b=v[1];(0,d.useEffect)((function(){var e={appId:i.appId,limit:y.limit,page:y.page,search:y.search};o((0,m.bQ)(e))}),[y]);return console.log("pagingParamspagingParams",y),(0,z.jsx)(R,{children:(0,z.jsxs)(T.Z,{title:"App Comment",open:!0,onOk:n,onCancel:t,footer:null,children:[(0,z.jsx)(l.Z,{placeholder:"Find somethings....",allowClear:!0,size:"large",onChange:function(e){p.current&&clearTimeout(p.current),p.current=setTimeout((function(){b((function(n){return(0,a.Z)((0,a.Z)({},n),{},{search:e.target.value})}))}),1e3)},style:{marginBottom:"4rem",width:"50%",marginLeft:"auto",borderRadius:"5px"}}),(0,z.jsx)("div",{className:"pagination_modal",children:0!==Number(null===g||void 0===g?void 0:g.total)&&(0,z.jsx)(c.Z,{onChange:function(e,n){b((function(t){return(0,a.Z)((0,a.Z)({},t),{},{limit:n,page:e})}))},total:(null===g||void 0===g?void 0:g.total)||10,showSizeChanger:!0,showQuickJumper:!0})}),(0,z.jsx)(s.Z,{columns:F,dataSource:function(){var e,n=[];g&&(null===(e=g.data)||void 0===e||e.forEach((function(e){var t,a="";switch(Number(e.status)){case"0":a="Not approve";break;case"1":a="Active";break;default:a="Waiting"}n.push({comment:e.comment,name:e.title,title:e.title,rating:e.rating,user:null===(t=e.user)||void 0===t?void 0:t.avatar,updated_at:e.updated_at,status:a,dislike:e.dislike,like:e.approval,actions:{appId:e.appid}})})));return n}(),pagination:!1,loading:h})]})})},U=t(83734),G=t(35638),H=B.ZP.div(N||(N=(0,Y.Z)(["\n  box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n  padding: 2rem;\n  border-radius: 15px;\n  margin-bottom: 2rem;\n  min-width: 70rem;\n  background: white;\n  p {\n    margin-bottom: 1rem;\n    width: 100%;\n    margin-right: 5rem;\n    padding: 5px 2rem;\n    border-radius: 5px;\n    color: black;\n  }\n  .label {\n    color: #4e7093;\n    text-transform: uppercase;\n    margin-right: 2rem;\n    width: 24%;\n    display: inline-block;\n  }\n"]))),W=function(e){var n=e.data;return(0,z.jsxs)(H,{children:[(0,z.jsxs)("h1",{children:[(0,z.jsx)("span",{className:"",children:"Update At"}),(0,z.jsxs)("span",{className:"detail",children:[" ",L()(n.updated_at).format("MMMM Do YYYY, h:mm:ss a")]})]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("span",{className:"label",children:"Description"})," ",(0,z.jsxs)("span",{className:"detail",children:[n.description," "]})]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("span",{className:"label",children:"App Version"}),(0,z.jsxs)("span",{className:"detail",children:[" ",n.app_version," "]})]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("span",{className:"label",children:"App ID"}),(0,z.jsxs)("span",{className:"detail",children:[" ",n.id_app," "]})]}),(0,z.jsxs)("p",{children:[(0,z.jsx)("span",{className:"label",children:"Created At"}),(0,z.jsxs)("span",{className:"detail",children:[" ",L()(n.created_at).format("MMMM Do YYYY, h:mm:ss a")]})]})]})},J=function(e){var n=e.historyUpdate;return(0,z.jsx)(z.Fragment,{children:n&&n.map((function(e,n){return(0,z.jsx)(W,{data:e},"history-".concat(n))}))})},Q=B.ZP.div(O||(O=(0,Y.Z)([""]))),q=function(e){var n=e.onOk,t=e.onCancel,i=(0,D.UO)(),o=(0,u.I0)(),s=(0,d.useRef)(),c=(0,d.useState)({keyword:"",locale:""}),p=(0,r.Z)(c,2),g=p[0],h=p[1],x=(0,d.useState)(null),v=(0,r.Z)(x,2),y=v[0],b=v[1],k=(0,u.v9)((function(e){return e.detailApp})),Z=k.historyUpdate,j=k.isLoadingGetHistory,C=k.statusGetHistory,w=k.languages,I=k.isLoading,N=function(){var e,n=(0,f.Vb)();o((0,m.dq)({appId:i.id,keyword:g.keyword,locale:g.locale||(null===(e=n[0])||void 0===e?void 0:e.code)}))};(0,d.useEffect)((function(){var e=(0,f.Vb)();e&&b(e[0].code),I||N()}),[g]);return console.log(y),(0,z.jsx)(Q,{children:(0,z.jsx)(T.Z,{title:"History update of app",open:!0,onOk:n,onCancel:t,footer:null,children:null!==y&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)("p",{style:{color:"white",textTransform:"uppercase",marginBottom:"1rem"},children:"Choose Locale"}),(0,z.jsx)(U.Z,{style:{width:"100%",margin:"auto",marginBottom:"2rem"},defaultValue:y,onChange:function(e){h((function(n){return(0,a.Z)((0,a.Z)({},n),{},{locale:e})}))},options:w&&w.map((function(e,n){return{key:n,value:e.code,label:e.language}}))}),(0,z.jsx)(l.Z,{placeholder:"Enter your App Version to find....",allowClear:!0,size:"large",onChange:function(e){s.current&&clearTimeout(s.current),s.current=setTimeout((function(){h((function(n){return(0,a.Z)((0,a.Z)({},n),{},{keyword:e.target.value})}))}),1e3)},style:{marginBottom:"4rem",width:"100%",marginLeft:"auto",borderRadius:"5px"}}),j&&"success"!==C?(0,z.jsx)(G.Z,{}):(0,z.jsx)(J,{historyUpdate:Z})]})})})},K=B.ZP.div(E||(E=(0,Y.Z)(["\n  background: var(--bg-dark);\n  padding: 1rem;\n  h1 {\n    color: white;\n  }\n  &&& {\n    .ant-select:not(.ant-select-customize-input) .ant-select-selector {\n      border: none;\n    }\n    .ant-pagination {\n      color: white;\n    }\n    .ant-table table {\n      padding: 5rem;\n    }\n    .ant-table-row {\n      transition: all 0.4s;\n      &:hover {\n        /* transform: scale(1.05); */\n        box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;\n      }\n    }\n  }\n  .button {\n    transition: all 0.5s;\n    color: white;\n    border-radius: 4px;\n    box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n    text-align: center;\n\n    &:active {\n      transform: scale(1.1);\n    }\n    a {\n      background: transparent !important;\n\n      &:active {\n      }\n    }\n  }\n\n  .status_active {\n    background: #2cbc63;\n    clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n  }\n\n  .status_waiting {\n    background: var(--bg-blue);\n    clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n  }\n  .status_reject {\n    background: red;\n    clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n  }\n  .table {\n    display: flex;\n    flex-direction: column;\n  }\n  .pagination {\n    background: #1c212f;\n    padding: 1rem;\n    margin-top: 2rem;\n    color: white;\n  }\n  .feature {\n    display: flex;\n  }\n"])));function X(e,n){var t=(0,u.I0)(),g=d.useRef(),h=(0,u.v9)((function(e){return e.detailApp})),x=h.createdApps,v=h.isLoadingCreatedApps,y=(0,d.useState)({limit:10,page:0,title:""}),b=(0,r.Z)(y,2),k=b[0],Z=b[1],j=(0,d.useState)(!1),C=(0,r.Z)(j,2),w=C[0],I=C[1],N=(0,d.useState)(!1),O=(0,r.Z)(N,2),E=O[0],P=O[1];(0,d.useEffect)((function(){t((0,m.Ct)(k))}),[k]),(0,d.useEffect)((function(){return function(){localStorage.setItem("pagingParams",JSON.stringify(k))}}),[]);var S=function(e){switch(e){case"Active":return"status_active";case"Waiting":return"status_waiting";default:return"status_rejected"}},_=[{title:"Cover",dataIndex:"cover",key:"cover",render:function(e){return(0,z.jsx)(i.C,{src:e?"".concat(f.dz,"/").concat(e):"https://joeschmoe.io/api/v1/random"})}},{title:"Title",dataIndex:"title",key:"title"},{title:"Status",dataIndex:"status",key:"status",render:function(e){return(0,z.jsx)("p",{className:"button ".concat(S(e)),children:e})}},{title:"Developer",dataIndex:"developer",key:"developer"},{title:"Installs",dataIndex:"installs",key:"installs"},{title:"Score",dataIndex:"score",key:"score"},{title:"Slug",dataIndex:"slug",key:"slug"},{title:"History Update",dataIndex:"history",key:"history",render:function(e){return(0,z.jsx)(o.Z,{type:"primary",className:"button",style:{width:"90%"},children:(0,z.jsx)(p.OL,{onClick:function(){return P(!0)},to:"/for-publishers/created-app/history-update/".concat(e),style:{width:"100%",display:"block"},children:"Show more"})})}},{title:"Action",dataIndex:"action",key:"action",render:function(e){var n=e.slug,t=e.appId,a=e.appId2;return(0,z.jsx)(A,{slug:n,appId:t,appId2:a,pagingParams:k,setIsModalOpen:I})}}];return(0,d.useEffect)((function(){window.scrollTo({top:0,behavior:"smooth"})}),[]),(0,z.jsxs)(z.Fragment,{children:[w&&(0,z.jsx)(V,{onOk:function(){I(!1)},onCancel:function(){I(!1)}}),E&&(0,z.jsx)(q,{onOk:function(){P(!1)},onCancel:function(){P(!1)}}),(0,z.jsxs)(K,{ref:n,id:"created-app",children:[(0,z.jsx)("h1",{style:{width:"100%",textAlign:"center",marginBottom:"5rem"},children:"CREATED APP"}),(0,z.jsxs)("div",{className:"table",children:[(0,z.jsx)(l.Z,{placeholder:"Find somethings....",allowClear:!0,size:"large",onChange:function(e){g.current&&clearTimeout(g.current),g.current=setTimeout((function(){Z((function(n){return(0,a.Z)((0,a.Z)({},n),{},{title:e.target.value})}))}),1e3)},style:{marginBottom:"4rem",width:"50%",marginLeft:"auto"}}),(0,z.jsx)(s.Z,{columns:_,dataSource:function(){var e,n=[];x&&(null===(e=x.data)||void 0===e||e.forEach((function(e){var t="";switch(Number(e.status)){case 0:t="Not approve";break;case 1:t="Active";break;default:t="Waiting"}n.push({cover:e.cover,developer:e.developer,installs:e.installs,history:e.id,score:e.score,slug:e.slug,status:t,title:e.title,action:{slug:e.slug,appId:e.id,appId2:e.appid},key:e.id})})));return n}(),pagination:!1,loading:v}),(0,z.jsx)("div",{className:"pagination",children:(0,z.jsx)(c.Z,{onChange:function(e,n){Z((function(t){return(0,a.Z)((0,a.Z)({},t),{},{limit:n,page:e})}))},total:(null===x||void 0===x?void 0:x.total)||10,showSizeChanger:!0,showQuickJumper:!0})})]})]})]})}var $=(0,d.forwardRef)(X)},35638:function(e,n,t){t.d(n,{Z:function(){return p}});t(72791);var a,r,i,o=t(30168),l=t(54088),s=(0,l.F4)(a||(a=(0,o.Z)(["\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }"]))),c=l.ZP.div(r||(r=(0,o.Z)(["\n  min-height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),d=l.ZP.div(i||(i=(0,o.Z)(["\n  width: 120px;\n  height: 120px;\n  border-top: 4px solid rgb(237, 44, 73);\n  border-radius: 50%;\n  animation: "," 0.8s linear infinite;\n"])),s),u=t(80184),p=function(){return(0,u.jsx)(c,{className:"loading",children:(0,u.jsx)(d,{})})}},34571:function(e,n,t){t.d(n,{Z:function(){return j}});var a=t(87462),r=t(29439),i=t(10187),o=t(81694),l=t.n(o),s=t(75179),c=t(11354),d=t(72791),u=t(71929),p=t(69228),m=t(61113),f=t(87309),g=t(2571),h=t(41783),x=t(93486),v=t(13578),y=t(57924),b=function(e){var n=e.prefixCls,t=e.okButtonProps,r=e.cancelButtonProps,i=e.title,o=e.cancelText,l=e.okText,s=e.okType,c=e.icon,p=e.showCancel,m=void 0===p||p,b=e.close,k=e.onConfirm,Z=e.onCancel,j=d.useContext(u.E_).getPrefixCls;return d.createElement(x.Z,{componentName:"Popconfirm",defaultLocale:v.Z.Popconfirm},(function(e){return d.createElement("div",{className:"".concat(n,"-inner-content")},d.createElement("div",{className:"".concat(n,"-message")},c,d.createElement("div",{className:"".concat(n,"-message-title")},(0,y.Z)(i))),d.createElement("div",{className:"".concat(n,"-buttons")},m&&d.createElement(f.Z,(0,a.Z)({onClick:Z,size:"small"},r),null!==o&&void 0!==o?o:e.cancelText),d.createElement(h.Z,{buttonProps:(0,a.Z)((0,a.Z)({size:"small"},(0,g.n)(s)),t),actionFn:k,close:b,prefixCls:j("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==l&&void 0!==l?l:e.okText)))}))},k=void 0,Z=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&n.indexOf(a)<0&&(t[a]=e[a]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(a=Object.getOwnPropertySymbols(e);r<a.length;r++)n.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(e,a[r])&&(t[a[r]]=e[a[r]])}return t},j=d.forwardRef((function(e,n){var t=d.useContext(u.E_).getPrefixCls,o=(0,s.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),f=(0,r.Z)(o,2),g=f[0],h=f[1],x=function(n,t){var a,r;h(n,!0),null===(a=e.onVisibleChange)||void 0===a||a.call(e,n,t),null===(r=e.onOpenChange)||void 0===r||r.call(e,n,t)},v=e.prefixCls,y=e.placement,j=void 0===y?"top":y,C=e.trigger,w=void 0===C?"click":C,I=e.okType,N=void 0===I?"primary":I,O=e.icon,E=void 0===O?d.createElement(i.Z,null):O,P=e.children,S=e.overlayClassName,z=Z(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),A=t("popover",v),_=t("popconfirm",v),T=l()(_,S);return d.createElement(p.Z,(0,a.Z)({},z,{trigger:w,prefixCls:A,placement:j,onOpenChange:function(n){var t=e.disabled;void 0!==t&&t||x(n)},open:g,ref:n,overlayClassName:T,_overlay:d.createElement(b,(0,a.Z)({okType:N,icon:E},e,{prefixCls:A,close:function(e){x(!1,e)},onConfirm:function(n){var t;return null===(t=e.onConfirm)||void 0===t?void 0:t.call(k,n)},onCancel:function(n){var t;x(!1,n),null===(t=e.onCancel)||void 0===t||t.call(k,n)}}))}),(0,m.Tm)(P,{onKeyDown:function(e){var n,t;d.isValidElement(P)&&(null===(t=null===P||void 0===P?void 0:(n=P.props).onKeyDown)||void 0===t||t.call(n,e)),function(e){e.keyCode===c.Z.ESC&&g&&x(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=885.138b8200.chunk.js.map