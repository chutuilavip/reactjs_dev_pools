"use strict";(self.webpackChunkpools_fe=self.webpackChunkpools_fe||[]).push([[766],{73766:function(e,n,i){i.r(n),i.d(n,{default:function(){return le}});var r,t,a=i(4942),o=i(1413),l=i(44925),s=i(29439),d=i(72791),c=i(59434),u=i(57689),p=i(85798),m=i(16254),v=i(44695),f=i(61134),g=i(37762),h=i(74165),x=i(15861),b=i(62797),y=i(35783),_=b.Ry({title:b.Z_().required(),appid:b.Z_().required(),summary:b.Z_().required("Summary is required").max(80,"Summary must be less than 80 characters"),otherlanguages:b.Z_().required("Other languages is required"),email:b.Z_().required("Email is required").email("Invalid email address"),phone_number:b.Z_().required("Phone number is required").matches(/^!*([0-9]!*){10,}$/gi,"Phone number must be at least 10 digits"),full_description:b.Z_().required("Full description is required").max(4e3,"Description must be less than 4000 characters"),description:b.Z_().max(1e3,"Description must be less than 1000 characters"),country_of_service:b.Z_().required("Country of service is required"),facebook:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.facebook|m\.facebook|facebook|fb)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid Facebook Link"),instagram:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.instagram|m\.instagram|instagram)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid instagram Link"),skype:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.skype|m\.skype|skype|sk)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid Skype Link"),tiktok:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.tiktok|m\.tiktok|tiktok|tk)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid TikTok Link"),twitter:b.Z_().matches(/^\s*$|(?:https?:\/\/)?(?:www\.)?(mbasic.twitter|m\.twitter|twitter|tw)\.(com\/*)?(?:[\w\-\.]*\/)*()/gi,"Invalid Twitter Link"),category:b.Z_().required("Category is required"),type:b.Z_().required("Type is required"),free:b.Z_().required("Cost of app required"),price:b.Z_().max(8,"Price must be less than 8 digits number"),cover:b.nK().test("fileSize","The size of file must be less than 2MB",(function(e){var n;return!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||(!e.fileList||e.fileList[0].size/1024/1024<2)})).test("widthHeight","File must be 255 of width and 390 of height",function(){var e=(0,x.Z)((0,h.Z)().mark((function e(n){var i,r,t,a,o,l;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.file&&0!==(null===n||void 0===n||null===(i=n.fileList)||void 0===i?void 0:i.length)){e.next=2;break}return e.abrupt("return",!0);case 2:return r=n.file,t=URL.createObjectURL(null===r||void 0===r?void 0:r.originFileObj),e.prev=4,e.next=7,(0,y.Z)(t);case 7:return a=e.sent,o=a.width,l=a.height,e.abrupt("return",255===o&&390===l);case 13:e.prev=13,e.t0=e.catch(4),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(n){return e.apply(this,arguments)}}()).test("image-type","The type must be image/jpeg or image/png image/jpg",(function(e){var n;if(!e||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length))return!0;if(e.fileList){var i,r=(0,g.Z)(e.fileList);try{for(r.s();!(i=r.n()).done;){var t=i.value;return"image/jpeg"===t.type||"image/png"===t.type||"image/jpg"===t.type}}catch(a){r.e(a)}finally{r.f()}}return!0})),apkfile:b.nK().test("fileSize","The size of file must be less than 200MB",(function(e){var n;return!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||(!e.fileList||e.fileList[0].size/1024/1024<200)})),images:b.nK().test("image-type","The type must be image/jpeg or image/png",(function(e){var n;if(console.log("validateeeeeeeeeeeeeeeeeeeeeeeeeeeee",e),!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length))return!0;if(e.fileList){var i,r=(0,g.Z)(e.fileList);try{for(r.s();!(i=r.n()).done;){var t=i.value;return"image/jpeg"===t.type||"image/png"===t.type}}catch(a){r.e(a)}finally{r.f()}}return!0})).test("fileLength","You must upload max 8 images",(function(e){var n,i;return!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||!((null===e||void 0===e||null===(i=e.fileList)||void 0===i?void 0:i.length)>8)})),video:b.nK().test("mp4 type","The type must be MP4",(function(e){var n;return!e||!e.file||0===(null===e||void 0===e||null===(n=e.fileList)||void 0===n?void 0:n.length)||"video/mp4"===e.file.type}))}).required(),j=[{locale_code:"nft",title:"NFT"},{locale_code:"metaverse",title:"Metaverse"},{locale_code:"play-to-earn",title:"Play To Earn"}],Z=[{locale_code:"1",id:1,title:"Pay"},{locale_code:"0",id:2,title:"Free"}],k=[[{name:"appid",label:"App ID",placeholder:"Enter App ID",disabled:!0},{name:"title",label:"Title",placeholder:"Enter App Title"}],[{name:"summary",label:"Summary",placeholder:"Enter Summary"},{name:"full_description",label:"Description",placeholder:"Enter Description"}],[{name:"recent_change",label:"Recent Change",placeholder:"Enter Recent Change"},{name:"app_support",label:"App Support",placeholder:"Enter App Support"}],[{name:"privacy_policy",label:"Privacy Policy",placeholder:"Enter Privacy Policy"},{name:"term_of_policy",label:"Term Of Policy",placeholder:"Enter Term Of Policy"}],[{name:"facebook",label:"Link FaceBook",placeholder:"Enter Link FaceBook"},{name:"instagram",label:"Link Instagram",placeholder:"Enter Link Instagram"},{name:"skype",label:"Link Skype",placeholder:"Enter Link Skype"}],[{name:"tiktok",label:"Link TikTok",placeholder:"Enter Link TikTok"},{name:"twitter",label:"Link Twitter",placeholder:"Enter Link Twitter"}],[{name:"phone_number",label:"Phone Number",placeholder:"Enter Phone Number"},{name:"email",label:"Email",placeholder:"Enter Email"}]],w=i(27387),C=i(87309),N=i(25886),L=i(80184),P=function(e){var n=e.fieldProps,i=e.control,r=e.errors,t=e.customOnchange,a=e.mod;return(0,L.jsx)(f.Qr,{control:i,name:n.name,render:function(e){var i,l=e.field;return(0,L.jsxs)("div",{className:"field-item",children:[(0,L.jsxs)("div",{className:"field",children:[(0,L.jsxs)("label",{className:"fieldLabel",children:[n.label," :"]}),"area"===a?(0,L.jsx)(N.Z.TextArea,(0,o.Z)((0,o.Z)({rows:10,disabled:(null===n||void 0===n?void 0:n.disabled)||!1},l),{},{onChange:function(e){t&&t(e),l.onChange(e)},placeholder:n.placeholder,type:n.type||"text"})):(0,L.jsx)(N.Z,(0,o.Z)((0,o.Z)({disabled:(null===n||void 0===n?void 0:n.disabled)||!1},l),{},{onChange:function(e){t&&t(e),l.onChange(e)},placeholder:n.placeholder,type:n.type||"text"}))]}),(0,L.jsx)("p",{className:"error_message",children:null===(i=r[n.name])||void 0===i?void 0:i.message})]})}})},E=function(e){var n=e.inputList,i=e.control,r=e.errors;return(0,L.jsx)(d.Fragment,{children:n.map((function(e,n){return(0,L.jsx)("div",{className:"row",children:e.map((function(e,n){return(0,L.jsx)(P,{fieldProps:e,control:i,errors:r},"Input-".concat(n))}))},n)}))})},T=i(93433),O=i(83734),S=function(e){var n=e.control,i=e.fieldProps,r=e.errors,t=e.customOnChange,a=e.mode,l=e.customRenderOptions,s=function(e){var n,i=null===(n=e.data)||void 0===n?void 0:n.map((function(n){return"otherlanguages"===e.name||"locale"===e.name?{value:n.code,label:n.language||n.title}:{value:n.locale_code||n.id,label:n.language||n.title}}));return[{value:"",label:"Select App ".concat(e.label),disabled:!0}].concat((0,T.Z)(i))};return(0,L.jsx)(f.Qr,{control:n,name:i.name,render:function(e){var n,d=e.field;return(0,L.jsxs)("div",{className:"field-item",children:[(0,L.jsxs)("div",{className:"field",children:[(0,L.jsxs)("label",{className:"fieldLabel",children:[i.label," :"]}),(0,L.jsx)(O.Z,(0,o.Z)((0,o.Z)({mode:a,className:"input"},d),{},{onChange:function(e){d.onChange(e),t&&t(e)},defaultValue:"app_permission_id"!==i.name&&"information_collected_id"!==i.name?"":[],options:l?l(i):s(i)}))]}),(0,L.jsx)("p",{className:"error_message",children:null===(n=r[i.name])||void 0===n?void 0:n.message})]})}})},F=function(e){var n=e.control,i=e.errors,r=e.fieldsData,t=function(e){var n,i=null===(n=e.data)||void 0===n?void 0:n.map((function(e){return{value:"".concat(e.id),label:e.title}}));return(0,T.Z)(i)};return(0,L.jsx)("div",{children:null===r||void 0===r?void 0:r.map((function(e,r){return(0,L.jsx)(S,{fieldProps:e,control:n,errors:i,customRenderOptions:t,mode:"multiple"},"multiple-select-".concat(r))}))})},I=function(e){var n=e.selectList,i=e.control,r=e.errors;return(0,L.jsx)(d.Fragment,{children:n.map((function(e,n){return(0,L.jsx)("div",{className:"row",children:e.map((function(e,n){return(0,L.jsx)(S,{fieldProps:e,control:i,errors:r},"Select-".concat(n))}))},n)}))})},q=i(36755),V=i(34457),A=["* The size of file must be less than 2MB","* The type must be image/jpeg or image/png or image/jpg"],R=["* The size of file must be less than 2MB","* The type must be image/jpeg or image/png or image/jpg","* Upload max 10 images"],z=["* The size of file must be less than 200MB","* The type must be .apk"],D=i(34571),M=function(e){var n,i=e.defaultValues,r=(0,c.I0)(),t=d.useState(!1),a=(0,s.Z)(t,2),o=(a[0],a[1]),l=function(e){console.log(e)};return(0,L.jsx)(L.Fragment,{children:null===(n=i.images_init)||void 0===n?void 0:n.map((function(e,n){return(0,L.jsxs)("div",{className:"image_action",children:[(0,L.jsx)(q.Z,{className:"image",style:{borderRadius:"1rem"},preview:!1,src:"".concat(V.dz).concat(e),alt:"cover"}),(0,L.jsx)("div",{className:"button",children:(0,L.jsx)(D.Z,{title:"Are you sure to delete this image?",onConfirm:function(){return n=e,t=null===i||void 0===i?void 0:i.appid,void r((0,m.Yw)({name_image:n,appid:t,reload:function(){}})).unwrap().then((function(e){if(200===e.status){var r=i.images_init.findIndex((function(e){return e===n}));-1!==r&&(i.images_init.splice(r,1),o((function(e){return!e})))}}));var n,t},onCancel:l,okText:"Yes",cancelText:"No",children:(0,L.jsx)(C.Z,{type:"primary",danger:!0,children:"Delete"})})})]},"image_".concat(n))}))})},U=function(e){var n=e.control,i=e.errors;return(0,L.jsxs)("div",{style:{width:"calc(90% + 0rem)",marginLeft:"auto",border:"1px solid red",padding:"2rem",borderRadius:"5px"},children:[(0,L.jsx)("h1",{style:{background:"black",color:"white",borderRadius:"5px",padding:"0 2rem"},children:"New App version detail"}),[{name:"app_version",label:"App Version",placeholder:"Enter App Version"},{name:"description",label:"Description",placeholder:"Enter description",mode:"area"}].map((function(e,r){return(0,L.jsx)(P,{fieldProps:e,control:n,errors:i,mod:e.mode},"update-app-version-".concat(r))}))]})},B=i(91541),K=i(44379),$=i(66776),Q=function(e){var n=e.errMessage,i=e.control,r=e.hints,t=e.name,a=e.label,l=e.accept,s=e.onChange;return(0,L.jsx)(f.Qr,{control:i,name:t,render:function(e){var i=e.field;return(0,L.jsxs)(B.Z.Item,{label:a,children:[(0,L.jsxs)(K.Z,(0,o.Z)((0,o.Z)({},i),{},{multiple:!1,onChange:function(e){console.log(e),e.file.status="done",s&&s(e),i.onChange(e)},accept:l,maxCount:1,valuePropName:"fileList",children:[(0,L.jsx)("p",{className:"ant-upload-drag-icon",children:(0,L.jsx)($.Z,{})}),(0,L.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,L.jsx)("p",{className:"ant-upload-hint",children:"Upload your new apk"})]})),(0,L.jsx)("div",{className:"note",children:null===r||void 0===r?void 0:r.map((function(e,n){return(0,L.jsx)("p",{className:"hint",children:e},"hint-".concat(n))}))}),(0,L.jsx)("p",{className:"error_message",children:n})]})}})},Y=function(e){var n=e.control,i=e.hints,r=e.errMessage,t=e.name,a=e.label,l=e.maxCount,s={listType:"picture",accept:"image/png, image/jpeg",multiple:e.multiple,onChange:function(e){},onDrop:function(e){}};return(0,L.jsx)("div",{children:(0,L.jsx)(f.Qr,{control:n,name:t,render:function(e){var n=e.field;return(0,L.jsxs)(B.Z.Item,{label:a,children:[(0,L.jsxs)(K.Z,(0,o.Z)((0,o.Z)((0,o.Z)({},s),n),{},{maxCount:l,listType:"picture",accept:"image/png, image/jpeg",children:[(0,L.jsx)("p",{className:"ant-upload-drag-icon",children:(0,L.jsx)($.Z,{})}),(0,L.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,L.jsx)("p",{className:"ant-upload-hint",children:"Upload your new avatar"})]})),(0,L.jsx)("div",{className:"note",children:null===i||void 0===i?void 0:i.map((function(e,n){return(0,L.jsx)("p",{className:"hint",children:e},"hint-".concat(n))}))}),(0,L.jsx)("p",{className:"error_message",children:r})]})}})})},J=i(30168),X=i(54088),H=X.ZP.div(r||(r=(0,J.Z)(["\n  &&& {\n    .ant-form-item-label {\n      width: 10%;\n      text-align: left;\n    }\n  }\n  border: 1px dashed black;\n  margin: 2rem 0;\n  padding: 1rem;\n  border-radius: 10px;\n  .upload_resource__item {\n    margin-bottom: 2rem;\n  }\n  .initial_content {\n    width: 90%;\n    margin-left: auto;\n    .video {\n      &__item {\n        margin-bottom: 2rem;\n        border: 1px dashed black;\n        border-radius: 5px;\n        padding: 1rem;\n        p {\n          text-transform: uppercase;\n          margin-bottom: 1rem;\n          background: #dddddd;\n          padding: 1rem;\n          border-radius: 7px;\n          width: fit-content;\n        }\n      }\n      display: flex;\n      flex-direction: column;\n    }\n    video {\n      width: 45rem;\n      aspect-ratio: 16/9;\n      border-radius: 10px;\n    }\n    .cover {\n      width: 255px;\n      height: 390px;\n    }\n    .image_action {\n      justify-content: space-between;\n      height: 25rem;\n      display: flex;\n      padding: 2rem;\n      border: 1px dashed;\n      margin-bottom: 5rem;\n      border-radius: 15px;\n      box-shadow: rgb(0 0 0 / 24%) 0px 3px 8px;\n      button {\n        height: 100%;\n        display: flex;\n        align-items: center;\n        border-radius: 7px;\n      }\n    }\n  }\n  .image {\n    height: 100%;\n    aspect-ratio: 16/9;\n    margin-top: 0;\n  }\n"]))),G=function(e){var n,i,r,t,a=e.control,o=e.errors,l=e.defaultValues,u=e.setError,p=((0,c.I0)(),d.useState(!1)),m=(0,s.Z)(p,2),v=(m[0],m[1],d.useState(null)),f=(0,s.Z)(v,2),g=f[0],b=f[1],y=d.useState(!1),_=(0,s.Z)(y,2),j=_[0],Z=_[1],k=function(){var e=(0,x.Z)((0,h.Z)().mark((function e(n){var i;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==n.fileList.length){e.next=3;break}return b(null),e.abrupt("return");case 3:return e.next=5,(0,V.y3)(n.fileList[0].originFileObj);case 5:i=e.sent,b(i);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return console.log("defaultValuesdefaultValuesdefaultValues",l),(0,L.jsxs)(H,{children:[(0,L.jsxs)("div",{className:"upload_resource__item upload-cover",children:[(0,L.jsx)(Y,{control:a,hints:A,errMessage:null===o||void 0===o||null===(n=o.cover)||void 0===n?void 0:n.message,name:"cover",label:"Upload Cover",maxCount:1}),(0,L.jsx)("div",{className:"initial_content",children:(0,L.jsx)(q.Z,{className:"cover",style:{marginTop:"1rem",borderRadius:"1rem"},preview:!1,src:"".concat(V.dz,"/").concat(null===l||void 0===l?void 0:l.cover_init),alt:"cover"})})]}),(0,L.jsxs)("div",{className:"upload_resource__item upload_images",children:[(0,L.jsx)(Y,{control:a,hints:R,errMessage:null===o||void 0===o||null===(i=o.images)||void 0===i?void 0:i.message,name:"images",label:"Upload Images",multiple:!0}),(0,L.jsx)("div",{className:"initial_content",children:(0,L.jsx)(M,{defaultValues:l})})]}),(0,L.jsxs)("div",{className:"upload_resource__item upload_apk",children:[" ",(0,L.jsx)(Q,{control:a,hints:z,errMessage:null===o||void 0===o||null===(r=o.apkfile)||void 0===r?void 0:r.message,onChange:function(e){console.log(e.fileList.length),1===e.fileList.length?(Z(!0),u("app_version",{type:"required",message:"App version is required when you update new app apk"})):(Z(!1),u("app_version"))},name:"apkfile",label:"Upload APK",maxCount:1,accept:".apk"}),(0,L.jsx)("div",{className:"initial_content",children:(0,L.jsx)("p",{style:{border:"1px dashed black",padding:"1rem",marginTop:"2rem",cursor:"not-allowed"},children:(0,V.UO)(l.apkfile_init)})})]}),j&&(0,L.jsx)(U,{control:a,errors:o}),(0,L.jsxs)("div",{className:"upload_resource__item upload_video",children:[" ",(0,L.jsx)(Q,{control:a,hints:z,errMessage:null===o||void 0===o||null===(t=o.video)||void 0===t?void 0:t.message,name:"video",label:"Upload Video",maxCount:1,accept:".mp4",onChange:k}),(0,L.jsx)("div",{className:"initial_content",children:(0,L.jsxs)("div",{className:"video",children:[g&&(0,L.jsxs)("div",{className:"new_video video__item",children:[(0,L.jsx)("p",{children:"New Video"}),(0,L.jsx)("video",{controls:!0,src:"".concat(g)})]}),l.video_init&&(0,L.jsxs)("div",{className:"current_video video__item",children:[(0,L.jsx)("p",{children:"Current video"}),(0,L.jsx)("video",{controls:!0,src:"".concat(V.dz).concat(null===l||void 0===l?void 0:l.video_init)})]})]})})]})]})},W=d.memo(G),ee=X.ZP.div(t||(t=(0,J.Z)(["\n  &&& {\n    .ant-select:not(.ant-select-customize-input) .ant-select-selector,\n    .ant-input {\n      height: 5rem;\n      display: flex;\n      align-items: center;\n      border-radius: 5px;\n      color: black;\n      box-shadow: rgb(0 0 0 / 12%) 0px 1px 3px, rgb(0 0 0 / 24%) 0px 1px 2px;\n      outline: none;\n      border: none;\n    }\n    .ant-select-multiple .ant-select-selection-item {\n      background-color: transparent;\n      border: none;\n      clip-path: polygon(10px 0%, 100% 0%, 100% 100%, 10px 100%, 0 50%);\n      height: 3rem;\n      display: flex;\n      align-items: center;\n      padding: 0 2rem;\n      background: 9ADCFF;\n      color: black;\n      background: white;\n    }\n    .ant-image {\n    }\n  }\n  padding: 5rem;\n  .container {\n    background: white;\n    padding: 2rem 5rem;\n    border-radius: 25px;\n    box-shadow: rgb(0 0 0 / 19%) 0px 10px 20px, rgb(0 0 0 / 23%) 0px 6px 6px;\n  }\n\n  .error_message {\n    padding: 0 1rem;\n    color: red;\n  }\n  .row {\n    display: flex;\n    justify-content: space-between;\n    gap: 5rem;\n  }\n  .free-price {\n    border-radius: 5px;\n    margin-bottom: 2rem;\n  }\n  .field-item {\n    transition: all 0.5s;\n    width: 100%;\n    display: flex;\n    margin-bottom: 2rem;\n    border-radius: 10px;\n    flex-direction: column;\n    .field {\n      display: flex;\n      flex-direction: column;\n      padding: 0 1rem;\n      margin: 2rem 0;\n      textarea {\n        height: auto !important;\n      }\n      .fieldLabel {\n        background: #ffffff;\n        width: fit-content;\n        padding: 1rem 6rem;\n        border-radius: 7px;\n        border: navajowhite;\n        box-shadow: rgb(0 0 0 / 12%) 0px 1px 3px, rgb(0 0 0 / 24%) 0px 1px 2px;\n        margin-bottom: 1rem;\n      }\n      .input {\n        flex: 1;\n      }\n    }\n  }\n"]))),ne=function(e){var n=e.form,i=e.handlesubmitProcess,r=e.SelectField,t=e.FreeField,a=e.PriceField,o=e.LocaleField,l=e.onInitialValue,u=e.PermissionAndInfoFields,p=n.getValues,m=n.control,v=n.handleSubmit,f=n.formState,g=f.errors,h=(f.isSubmitting,(0,c.v9)((function(e){return e.detailApp.isLoadingEditApp}))),x=(0,d.useState)(n.getValues("free")),b=(0,s.Z)(x,2),y=b[0],_=b[1];return console.log(g),(0,L.jsx)(ee,{children:(0,L.jsxs)("div",{className:"container",children:[(0,L.jsx)("h1",{style:{textAlign:"center"},children:"EDIT APP"})," ",(0,L.jsxs)("form",{onSubmit:v(i),children:[(0,L.jsx)("div",{className:"row",children:(0,L.jsx)(S,{customOnChange:l,fieldProps:o,control:m,errors:g})}),(0,L.jsx)(I,{selectList:r,control:m,errors:g}),(0,L.jsx)(F,{fieldsData:u,control:m,errors:g}),(0,L.jsxs)("div",{className:"row free-price",children:[(0,L.jsx)(S,{customOnChange:function(e){"1"===e&&0===Number(n.getValues("price"))&&(n.setError("price",{type:"required",message:"Price is required and must be greater than 0 when app is pay"}),n.setFocus("price")),_(e)},fieldProps:t,control:m,errors:g}),"1"===y&&(0,L.jsx)(P,{customOnchange:function(e){Number(e.target.value>0)&&n.setError("price")},fieldProps:a,control:m,errors:g})]}),(0,L.jsx)(E,{inputList:k,control:m,errors:g}),(0,L.jsx)(W,{control:m,errors:g,defaultValues:p(),setError:n.setError}),(0,L.jsx)(C.Z,{loading:h,htmlType:"submit",type:"primary",style:{width:"100%",marginBottom:"2rem"},children:"Update"})]})]})})},ie=d.memo(ne),re=function(e){var n=e.defaultValues,i=void 0===n?{}:n,r=e.onInitialValue,t=e.categoryAndLanguage,a=e.onSubmitAPI,o=e.permissionAndInfo,l=(0,f.cI)({defaultValues:(0,d.useMemo)((function(){return i}),[i]),resolver:(0,v.X)(_)});(0,d.useEffect)((function(){l.reset(i)}),[i]);var s=[[{name:"category",label:"Category",data:t.category},{name:"type",label:"Type",data:j}],[{name:"country_of_service",label:"Country Of Service",data:t.language},{name:"otherlanguages",label:"Other Languages",data:t.language}]],c={name:"locale",label:"Locale",data:t.language},u={name:"free",label:"Cost",data:Z},p=[{name:"app_permission_id",label:"App Permission",data:null===o||void 0===o?void 0:o.app_permission},{name:"information_collected_id",label:"Type Of information is collected",data:null===o||void 0===o?void 0:o.information}];return(0,L.jsx)("div",{children:(0,L.jsx)(ie,{form:l,handlesubmitProcess:function(e){if("1"===l.getValues("free")&&0===Number(l.getValues("price")))return l.setError("price",{type:"required",message:"Price is required and must be greater than 0 when app is pay"}),void l.setFocus("price");if(""===l.getValues("app_version"))return l.setError("app_version",{type:"required",message:"App version is required when you update new file apk"}),void l.setFocus("app_version");0===e.cover.length&&(e.cover=e.cover_init),0===e.apkfile.length&&(e.apkfile=e.apkfile_init),console.log("data",e);var n=(0,w.X)(e);a(n)},SelectField:s,FreeField:u,PriceField:{name:"price",label:"Price",placeholder:"Enter App's price",type:"number"},LocaleField:c,PermissionAndInfoFields:p,onInitialValue:r})})},te=d.memo(re),ae=["id"],oe=function(){var e=(0,u.s0)(),n=(0,c.I0)(),i=(0,u.UO)(),r=(0,d.useState)(!1),t=(0,s.Z)(r,2),v=(t[0],t[1]),f=(0,d.useRef)(),g=(0,d.useRef)(),h=(0,d.useRef)(),x=(0,d.useCallback)((function(e){n((0,m.$J)({slug:null===i||void 0===i?void 0:i.slug,lang:e})).unwrap().then((function(n){var i,r,t,s,d,c=null===n||void 0===n||null===(i=n.data)||void 0===i?void 0:i.app,u=(c.id,(0,l.Z)(c,ae)),p=Object.assign((0,o.Z)({},null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.info)||{},(0,o.Z)({},u)),m=(d={locale:e,title:(null===p||void 0===p?void 0:p.title)||"",appid:(null===p||void 0===p?void 0:p.appid)||"",summary:(null===p||void 0===p?void 0:p.summary)||"",country_of_service:(null===p||void 0===p?void 0:p.country_of_service)||"",category:(null===p||void 0===p?void 0:p.category)||"",free:(null===p||void 0===p?void 0:p.free)||"",price:Number(null===p||void 0===p?void 0:p.price).toFixed(0)||""},(0,a.Z)(d,"category",(null===p||void 0===p?void 0:p.category)||""),(0,a.Z)(d,"recent_change",(null===p||void 0===p?void 0:p.recent_change)||""),(0,a.Z)(d,"app_version",(null===p||void 0===p?void 0:p.app_version)||""),(0,a.Z)(d,"privacy_policy",(null===p||void 0===p?void 0:p.privacy_policy)||""),(0,a.Z)(d,"term_of_policy",(null===p||void 0===p?void 0:p.term_of_policy)||""),(0,a.Z)(d,"app_support",(null===p||void 0===p?void 0:p.app_support)||""),(0,a.Z)(d,"app_permission_id",(null===(t=p.app_permission_id)||void 0===t?void 0:t.split(","))||void 0),(0,a.Z)(d,"information_collected_id",(null===(s=p.information_collected_id)||void 0===s?void 0:s.split(","))||void 0),(0,a.Z)(d,"email",p.email||""),(0,a.Z)(d,"phone_number",p.phone_number||""),(0,a.Z)(d,"cover",[]),(0,a.Z)(d,"images",[]),(0,a.Z)(d,"apkfile",[]),(0,a.Z)(d,"video",(null===p||void 0===p?void 0:p.video)||null),(0,a.Z)(d,"cover_init",(null===p||void 0===p?void 0:p.cover)||[]),(0,a.Z)(d,"images_init",JSON.parse(null===p||void 0===p?void 0:p.screenshots)||[]),(0,a.Z)(d,"apkfile_init",(null===p||void 0===p?void 0:p.file_apk)||[]),(0,a.Z)(d,"video_init",(null===p||void 0===p?void 0:p.video)||[]),(0,a.Z)(d,"type","1"===(null===p||void 0===p?void 0:p.type)?"nft":"2"===(null===p||void 0===p?void 0:p.type)?"metaverse":"play-to-earn"),(0,a.Z)(d,"full_description",(null===p||void 0===p?void 0:p.description)||""),(0,a.Z)(d,"country_of_service",(null===p||void 0===p?void 0:p.country)||""),(0,a.Z)(d,"otherlanguages",(null===p||void 0===p?void 0:p.other_languages)||""),(0,a.Z)(d,"free",(null===p||void 0===p?void 0:p.is_pay)||""),d);f.current=m,console.log(p),v((function(e){return!e}))}))}),[n,i]),b=function(){e("/created-app")};return(0,d.useEffect)((function(){n((0,m.bT)()).unwrap().then((function(e){var n;g.current=e,x(null===e||void 0===e||null===(n=e.language[0])||void 0===n?void 0:n.code)})),n((0,m.yf)()).unwrap().then((function(e){h.current=e}))}),[]),f.current&&g.current&&h.current?(0,L.jsx)("div",{children:(0,L.jsx)(te,{onSubmitAPI:function(e){n((0,m.rf)({data:e,callBack:b}))},defaultValues:f.current,onInitialValue:x,categoryAndLanguage:g.current,permissionAndInfo:h.current})}):(0,L.jsx)(p.Z,{})},le=d.memo(oe)},34571:function(e,n,i){i.d(n,{Z:function(){return Z}});var r=i(87462),t=i(29439),a=i(10187),o=i(81694),l=i.n(o),s=i(75179),d=i(11354),c=i(72791),u=i(71929),p=i(69228),m=i(61113),v=i(87309),f=i(2571),g=i(41783),h=i(93486),x=i(13578),b=i(57924),y=function(e){var n=e.prefixCls,i=e.okButtonProps,t=e.cancelButtonProps,a=e.title,o=e.cancelText,l=e.okText,s=e.okType,d=e.icon,p=e.showCancel,m=void 0===p||p,y=e.close,_=e.onConfirm,j=e.onCancel,Z=c.useContext(u.E_).getPrefixCls;return c.createElement(h.Z,{componentName:"Popconfirm",defaultLocale:x.Z.Popconfirm},(function(e){return c.createElement("div",{className:"".concat(n,"-inner-content")},c.createElement("div",{className:"".concat(n,"-message")},d,c.createElement("div",{className:"".concat(n,"-message-title")},(0,b.Z)(a))),c.createElement("div",{className:"".concat(n,"-buttons")},m&&c.createElement(v.Z,(0,r.Z)({onClick:j,size:"small"},t),null!==o&&void 0!==o?o:e.cancelText),c.createElement(g.Z,{buttonProps:(0,r.Z)((0,r.Z)({size:"small"},(0,f.n)(s)),i),actionFn:_,close:y,prefixCls:Z("btn"),quitOnNullishReturnValue:!0,emitEvent:!0},null!==l&&void 0!==l?l:e.okText)))}))},_=void 0,j=function(e,n){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var t=0;for(r=Object.getOwnPropertySymbols(e);t<r.length;t++)n.indexOf(r[t])<0&&Object.prototype.propertyIsEnumerable.call(e,r[t])&&(i[r[t]]=e[r[t]])}return i},Z=c.forwardRef((function(e,n){var i=c.useContext(u.E_).getPrefixCls,o=(0,s.Z)(!1,{value:void 0!==e.open?e.open:e.visible,defaultValue:void 0!==e.defaultOpen?e.defaultOpen:e.defaultVisible}),v=(0,t.Z)(o,2),f=v[0],g=v[1],h=function(n,i){var r,t;g(n,!0),null===(r=e.onVisibleChange)||void 0===r||r.call(e,n,i),null===(t=e.onOpenChange)||void 0===t||t.call(e,n,i)},x=e.prefixCls,b=e.placement,Z=void 0===b?"top":b,k=e.trigger,w=void 0===k?"click":k,C=e.okType,N=void 0===C?"primary":C,L=e.icon,P=void 0===L?c.createElement(a.Z,null):L,E=e.children,T=e.overlayClassName,O=j(e,["prefixCls","placement","trigger","okType","icon","children","overlayClassName"]),S=i("popover",x),F=i("popconfirm",x),I=l()(F,T);return c.createElement(p.Z,(0,r.Z)({},O,{trigger:w,prefixCls:S,placement:Z,onOpenChange:function(n){var i=e.disabled;void 0!==i&&i||h(n)},open:f,ref:n,overlayClassName:I,_overlay:c.createElement(y,(0,r.Z)({okType:N,icon:P},e,{prefixCls:S,close:function(e){h(!1,e)},onConfirm:function(n){var i;return null===(i=e.onConfirm)||void 0===i?void 0:i.call(_,n)},onCancel:function(n){var i;h(!1,n),null===(i=e.onCancel)||void 0===i||i.call(_,n)}}))}),(0,m.Tm)(E,{onKeyDown:function(e){var n,i;c.isValidElement(E)&&(null===(i=null===E||void 0===E?void 0:(n=E.props).onKeyDown)||void 0===i||i.call(n,e)),function(e){e.keyCode===d.Z.ESC&&f&&h(!1,e)}(e)}}))}))}}]);
//# sourceMappingURL=766.176cabb5.chunk.js.map